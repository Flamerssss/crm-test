(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4076],{46673:function(n,r,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tasks/Results",function(){return e(19801)}])},19801:function(n,r,e){"use strict";e.r(r);var t=e(34051),o=e.n(t),a=e(85893),c=e(67294),i=e(45697),l=e.n(i),s=e(73400),u=e(15948),d=e(90948),p=e(66242),f=e(93946),g=e(83321),h=e(6585),b=e(87357),m=e(23926),x=e(50135),y=e(15861),j=e(21023),v=e(96700),Z=e(91589),k=e(82920),w=e(80100),O=e(77058),P=e(70422),I=e(47017);function S(n,r,e,t,o,a,c){try{var i=n[a](c),l=i.value}catch(s){return void e(s)}i.done?r(l):Promise.resolve(l).then(t,o)}function _(n,r,e){return r in n?Object.defineProperty(n,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[r]=e,n}function R(n){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{},t=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(e).filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})))),t.forEach((function(r){_(n,r,e[r])}))}return n}var C=(0,d.ZP)(p.Z)((function(n){var r=n.theme;return"\n      width: 340px;\n      min-width: 340px;\n      margin-right: ".concat(r.spacing(3),";\n      border-top-width: 8px;\n      border-top-style: solid;\n  ")})),z=(0,d.ZP)(f.Z)((function(n){var r=n.theme;return"\n      margin-right: ".concat(r.spacing(.5),";\n      padding: ").concat(r.spacing(.4),";\n\n      .MuiSvgIcon-root {\n        font-size: ").concat(r.typography.pxToRem(17),";\n        color: ").concat(r.colors.primary.main,";\n      }\n  ")})),E=(0,d.ZP)(g.Z)((function(n){var r=n.theme;return"\n      background-color: ".concat(r.colors.alpha.black[10],";\n      padding: ").concat(r.spacing(1),";\n  ")})),T=function(n){var r=n.listId,e=(0,O.$)().t,t=(0,v.v9)((function(n){return function(n,r){return n.projectsBoard.lists.byId[r]}(n,r)})),i=(0,v.I0)(),l=(0,s.Ds)().enqueueSnackbar,d=(0,c.useState)(t.name),p=d[0],f=d[1],g=(0,c.useState)(!1),_=g[0],T=g[1],N=function(){T(!0)},D=function(){var n,r=(n=o().mark((function n(){var r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,p){n.next=5;break}return f(t.name),T(!1),n.abrupt("return");case 5:return r={name:p},T(!1),n.next=9,i((0,Z.s9)(t.id,r));case 9:l(e("The project board has been successfully updated"),{variant:"success",anchorOrigin:{vertical:"bottom",horizontal:"center"},TransitionComponent:h.Z}),n.next=16;break;case 12:n.prev=12,n.t0=n.catch(0),console.error(n.t0),l(e("There was an error, try again later"),{variant:"error",anchorOrigin:{vertical:"bottom",horizontal:"center"},TransitionComponent:h.Z});case 16:case"end":return n.stop()}}),n,null,[[0,12]])})),function(){var r=this,e=arguments;return new Promise((function(t,o){var a=n.apply(r,e);function c(n){S(a,t,o,c,i,"next",n)}function i(n){S(a,t,o,c,i,"throw",n)}c(void 0)}))});return function(){return r.apply(this,arguments)}}();return(0,a.jsxs)(C,{sx:{borderColor:t.color},children:[(0,a.jsxs)(b.Z,{px:2,pt:2,display:"flex",justifyContent:"space-between",alignItems:"center",children:[_?(0,a.jsx)(m.Z,{onClickAway:D,children:(0,a.jsx)(x.Z,{value:p,size:"small",onBlur:D,onChange:function(n){n.persist(),f(n.target.value)},variant:"outlined",margin:"dense"})}):(0,a.jsx)(y.Z,{color:"inherit",variant:"h3",onClick:N,children:t.name}),(0,a.jsxs)(b.Z,{display:"flex",alignItems:"center",children:[(0,a.jsx)(j.Z,{arrow:!0,placement:"top",title:e("Rename"),children:(0,a.jsx)(z,{onClick:N,children:(0,a.jsx)(P.Z,{})})}),(0,a.jsx)(w.Z,{color:"primary",children:(0,a.jsx)("b",{children:t.taskIds.length})})]})]}),(0,a.jsx)(b.Z,{px:2,pt:2,children:(0,a.jsx)(j.Z,{placement:"top",arrow:!0,title:e("Add new task"),children:(0,a.jsx)(E,{size:"small",color:"secondary",fullWidth:!0,children:(0,a.jsx)(I.Z,{fontSize:"small"})})})}),0===t.taskIds.length&&(0,a.jsx)(b.Z,{p:4,textAlign:"center",children:(0,a.jsx)(y.Z,{variant:"subtitle2",children:e("Drag tasks here to assign them to this board")})}),(0,a.jsx)(u.bK,{droppableId:t.id,children:function(n){return(0,a.jsxs)(b.Z,{sx:{minHeight:260},ref:n.innerRef,children:[t.taskIds.map((function(n,r){return(0,a.jsx)(u._l,{draggableId:n,index:r,children:function(e,o){return(0,a.jsx)(k.default,R({taskId:n,dragging:o.isDragging,index:r,list:t,ref:e.innerRef,style:R({},e.draggableProps.style)},e.draggableProps,e.dragHandleProps),n)}},n)})),n.placeholder]})}}),(0,a.jsx)(b.Z,{px:2,pb:2,children:(0,a.jsx)(j.Z,{placement:"top",arrow:!0,title:e("Add new task"),children:(0,a.jsx)(E,{size:"small",color:"secondary",fullWidth:!0,children:(0,a.jsx)(I.Z,{fontSize:"small"})})})})]})};T.propTypes={listId:l().string.isRequired},r.default=T},82920:function(n,r,e){"use strict";e.r(r);var t=e(85893),o=e(67294),a=e(86010),c=e(45697),i=e.n(c),l=e(90948),s=e(88441),u=e(87357),d=e(66242),p=e(15861),f=e(93946),g=e(25464),h=e(78462),b=e(19294),m=e(59334),x=e(96556),y=e(77058),j=e(96700),v=e(87135),Z=e(35433),k=e(29277),w=e(57634),O=e(71806),P=e(87360);function I(n,r,e){return r in n?Object.defineProperty(n,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[r]=e,n}function S(n){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{},t=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(e).filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})))),t.forEach((function(r){I(n,r,e[r])}))}return n}function _(n,r){if(null==n)return{};var e,t,o=function(n,r){if(null==n)return{};var e,t,o={},a=Object.keys(n);for(t=0;t<a.length;t++)e=a[t],r.indexOf(e)>=0||(o[e]=n[e]);return o}(n,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(t=0;t<a.length;t++)e=a[t],r.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(n,e)&&(o[e]=n[e])}return o}var R=(0,l.ZP)(s.Z)((function(n){var r=n.theme;return"\n      flex-grow: 1;\n      height: 8px;\n      background-color: ".concat(r.colors.alpha.black[10],";\n\n      .MuiLinearProgress-barColorPrimary {\n        background-color: ").concat(r.colors.primary.main,";\n        border-top-right-radius: ").concat(r.general.borderRadius,";\n        border-bottom-right-radius: ").concat(r.general.borderRadius,";\n      }\n")})),C=(0,o.forwardRef)((function(n,r){var e=n.taskId,c=n.dragging,i=(n.index,n.list,_(n,["taskId","dragging","index","list"])),l=(0,j.v9)((function(n){return function(n,r){var e=n.projectsBoard,t=e.tasks,o=e.members,a=t.byId[r];return S({},a,{members:a.memberIds.map((function(n){return o.byId[n]}))})}(n,e)})),s=(0,y.$)().t,I=(0,o.useState)(!1),C=I[0],z=I[1],E=(0,o.useRef)(null);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.Z,S({ref:r},i,{children:(0,t.jsxs)(d.Z,{sx:{m:2,p:2},className:(0,a.Z)({dragging:c}),raised:c,variant:c?"elevation":"outlined",children:[(0,t.jsx)(p.Z,{variant:"h4",gutterBottom:!0,noWrap:!0,children:l.name}),(0,t.jsx)(p.Z,{variant:"subtitle1",noWrap:!0,children:l.description}),(0,t.jsxs)(u.Z,{children:[(0,t.jsxs)(p.Z,{variant:"subtitle1",children:[s("tasks_due")," ",(0,x.Z)(l.due_date,new Date,{addSuffix:!0,locale:"ru"==s("code")?O.Z:P.Z})]}),(0,t.jsx)(R,{value:l.progress,color:"primary",variant:"determinate"})]}),(0,t.jsx)(u.Z,{pt:2,display:"flex",alignItems:"center",justifyContent:"space-between",children:(0,t.jsx)(f.Z,{color:"inherit",size:"small",onClick:function(){z(!0)},ref:E,children:(0,t.jsx)(v.Z,{fontSize:"small"})})})]})}),e),(0,t.jsx)(g.Z,{disableScrollLock:!0,keepMounted:!0,anchorEl:E.current,open:C,onClose:function(){z(!1)},anchorOrigin:{vertical:"center",horizontal:"center"},transformOrigin:{vertical:"center",horizontal:"center"},children:(0,t.jsxs)(h.Z,{sx:{p:1},component:"nav",children:[(0,t.jsxs)(b.ZP,{button:!0,children:[(0,t.jsx)(Z.Z,{}),(0,t.jsx)(m.Z,{primary:s("tasks_view_details")})]}),(0,t.jsxs)(b.ZP,{button:!0,children:[(0,t.jsx)(w.Z,{}),(0,t.jsx)(m.Z,{primary:s("Move to archive")})]}),(0,t.jsxs)(b.ZP,{button:!0,children:[(0,t.jsx)(k.Z,{}),(0,t.jsx)(m.Z,{primary:s("Delete")})]})]})})]})}));C.propTypes={taskId:i().string.isRequired,dragging:i().bool.isRequired,index:i().number,list:i().object.isRequired},C.defaultProps={dragging:!1},r.default=C},80100:function(n,r,e){"use strict";var t=e(85893),o=e(45697),a=e.n(o);function c(n,r,e){return r in n?Object.defineProperty(n,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[r]=e,n}function i(n,r){if(null==n)return{};var e,t,o=function(n,r){if(null==n)return{};var e,t,o={},a=Object.keys(n);for(t=0;t<a.length;t++)e=a[t],r.indexOf(e)>=0||(o[e]=n[e]);return o}(n,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(t=0;t<a.length;t++)e=a[t],r.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(n,e)&&(o[e]=n[e])}return o}var l=(0,e(90948).ZP)("span")((function(n){var r=n.theme;return"\n      background-color: ".concat(r.colors.alpha.black[5],";\n      padding: ").concat(r.spacing(.5,1),";\n      font-size: ").concat(r.typography.pxToRem(13),";\n      border-radius: ").concat(r.general.borderRadius,";\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      max-height: ").concat(r.spacing(3),";\n      \n      &.MuiLabel {\n        &-primary {\n          background-color: ").concat(r.colors.primary.lighter,";\n          color: ").concat(r.palette.primary.main,"\n        }\n\n        &-black {\n          background-color: ").concat(r.colors.alpha.black[100],";\n          color: ").concat(r.colors.alpha.white[100],";\n        }\n        \n        &-secondary {\n          background-color: ").concat(r.colors.secondary.lighter,";\n          color: ").concat(r.palette.secondary.main,"\n        }\n        \n        &-success {\n          background-color: ").concat(r.colors.success.lighter,";\n          color: ").concat(r.palette.success.main,"\n        }\n        \n        &-warning {\n          background-color: ").concat(r.colors.warning.lighter,";\n          color: ").concat(r.palette.warning.main,"\n        }\n              \n        &-error {\n          background-color: ").concat(r.colors.error.lighter,";\n          color: ").concat(r.palette.error.main,"\n        }\n        \n        &-info {\n          background-color: ").concat(r.colors.info.lighter,";\n          color: ").concat(r.palette.info.main,"\n        }\n      }\n")})),s=function(n){n.className;var r=n.color,e=void 0===r?"secondary":r,o=n.children,a=i(n,["className","color","children"]);return(0,t.jsx)(l,function(n){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{},t=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(e).filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})))),t.forEach((function(r){c(n,r,e[r])}))}return n}({className:"MuiLabel-"+e},a,{children:o}))};s.propTypes={children:a().node,className:a().string,color:a().oneOf(["primary","black","secondary","error","warning","success","info"])},r.Z=s}},function(n){n.O(0,[630,9990,5360,6827,3970,5464,6668,2945,1849,8630,1806,3049,9686,9774,2888,179],(function(){return r=46673,n(n.s=r);var r}));var r=n.O();_N_E=r}]);