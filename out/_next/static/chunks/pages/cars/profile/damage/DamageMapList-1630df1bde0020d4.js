(self.webpackChunk_N_E = self.webpackChunk_N_E || []).push([[7785], { 43764: function (n, e, r) { (window.__NEXT_P = window.__NEXT_P || []).push(["/cars/profile/damage/DamageMapList", function () { return r(70106) }]) }, 70106: function (n, e, r) { "use strict"; r.r(e); var t = r(34051), o = r.n(t), c = r(85893), i = r(67294), a = r(7906), l = r(53184), s = r(53816), u = r(53252), d = r(295), f = r(87918), h = r(26447), p = r(21023), x = r(93946), m = r(1902), v = (r(96621), r(97029)), g = r(77058), j = r(70422); function Z(n, e) { (null == e || e > n.length) && (e = n.length); for (var r = 0, t = new Array(e); r < e; r++)t[r] = n[r]; return t } function y(n, e, r, t, o, c, i) { try { var a = n[c](i), l = a.value } catch (s) { return void r(s) } a.done ? e(l) : Promise.resolve(l).then(t, o) } function _(n) { return function () { var e = this, r = arguments; return new Promise((function (t, o) { var c = n.apply(e, r); function i(n) { y(c, t, o, i, a, "next", n) } function a(n) { y(c, t, o, i, a, "throw", n) } i(void 0) })) } } function b(n, e) { return function (n) { if (Array.isArray(n)) return n }(n) || function (n, e) { var r = null == n ? null : "undefined" !== typeof Symbol && n[Symbol.iterator] || n["@@iterator"]; if (null != r) { var t, o, c = [], i = !0, a = !1; try { for (r = r.call(n); !(i = (t = r.next()).done) && (c.push(t.value), !e || c.length !== e); i = !0); } catch (l) { a = !0, o = l } finally { try { i || null == r.return || r.return() } finally { if (a) throw o } } return c } }(n, e) || function (n, e) { if (!n) return; if ("string" === typeof n) return Z(n, e); var r = Object.prototype.toString.call(n).slice(8, -1); "Object" === r && n.constructor && (r = n.constructor.name); if ("Map" === r || "Set" === r) return Array.from(r); if ("Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return Z(n, e) }(n, e) || function () { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } e.default = function (n) { var e = n.car, r = n.onCrashEdit, t = n.damageWhereDB, Z = n.clientPage, y = n.dataDamageClient, w = n.companyId, k = (0, g.$)().t, C = b(i.useState([]), 2), D = C[0], S = C[1], E = function () { var n = _(o().mark((function n() { return o().wrap((function (n) { for (; ;)switch (n.prev = n.next) { case 0: m.Z.firestore().collection(w).doc("company").collection("carDamages").onSnapshot(function () { var n = _(o().mark((function n(r) { var c, i, a; return o().wrap((function (n) { for (; ;)switch (n.prev = n.next) { case 0: return c = [], r.forEach((function (n) { return c.push(n.data()) })), n.next = 4, Promise.all(c); case 4: i = n.sent, a = i.filter((function (n) { return n.car_id === (null === e || void 0 === e ? void 0 : e.id) && n.damageWhere === t && "\u041d\u043e\u0432\u043e\u0435" === n.damageStatus })), S(a); case 7: case "end": return n.stop() } }), n) }))); return function (e) { return n.apply(this, arguments) } }()); case 2: case "end": return n.stop() } }), n) }))); return function () { return n.apply(this, arguments) } }(); return i.useEffect((function () { "true" === Z ? S(y) : E() }), [y]), (0, c.jsx)("div", { children: (0, c.jsxs)(a.Z, { children: [(0, c.jsx)(l.Z, { children: (0, c.jsxs)(s.Z, { children: [(0, c.jsx)(u.Z, { children: k("cars_palce") }), (0, c.jsx)(u.Z, { children: k("cars_damage_type") }), (0, c.jsx)(u.Z, { children: k("cars_damage_level") }), (0, c.jsx)(u.Z, { children: k("cars_damage_client") }), (0, c.jsx)(u.Z, { align: "center", sx: { pr: 3 }, children: k("Actions") })] }) }), (0, c.jsx)(d.Z, { children: D && D.map((function (n, e) { return (0, c.jsxs)(s.Z, { hover: !0, children: [(0, c.jsx)(u.Z, { sx: { cursor: "pointer" }, onClick: function () { r(n) }, children: n.areaId }), (0, c.jsx)(u.Z, { sx: { cursor: "pointer" }, onClick: function () { r(n) }, children: n.damage_type }), (0, c.jsxs)(u.Z, { sx: { cursor: "pointer" }, onClick: function () { r(n) }, children: ["Low" === n.value && (0, c.jsx)(f.Z, { label: k("cars_damage_level_low"), color: "info" }), "Middle" === n.value && (0, c.jsx)(f.Z, { label: k("cars_damage_level_middle"), color: "warning" }), "High" === n.value && (0, c.jsx)(f.Z, { label: k("cars_damage_level_high"), color: "error" })] }), (0, c.jsx)(u.Z, { sx: { cursor: "pointer" }, onClick: function () { r(n) }, children: n.client }), (0, c.jsx)(u.Z, { align: "center", sx: { pr: 3 }, children: (0, c.jsxs)(h.Z, { direction: "row", justifyContent: "center", alignItems: "center", children: [(0, c.jsx)(p.Z, { placement: "top", title: "Edit", children: (0, c.jsx)(x.Z, { onClick: function () { r(n) }, color: "primary", "aria-label": "delete", children: (0, c.jsx)(j.Z, { sx: { fontSize: "1.1rem" } }) }) }), (0, c.jsx)(p.Z, { placement: "top", title: "Delete", children: (0, c.jsx)(v.Z, { document: n, collection: "carDamages" }) })] }) })] }, e) })) })] }) }) } }, 75920: function (n, e, r) { "use strict"; r.d(e, { a: function () { return c } }); var t = r(67294), o = r(40517), c = function () { return (0, t.useContext)(o.Vo) } }, 97029: function (n, e, r) { "use strict"; r.d(e, { Z: function () { return y } }); var t = r(85893), o = r(67294), c = r(90948), i = r(87952), a = r(83321), l = r(6585), s = r(93946), u = r(64666), d = r(87357), f = r(15861), h = r(52521), p = r(50594), x = r(77058), m = r(75920), v = r(73400), g = r(1902), j = (r(96621), (0, c.ZP)(i.Z)((function (n) { var e = n.theme; return "\n      background-color: ".concat(e.colors.error.lighter, ";\n      color: ").concat(e.colors.error.main, ";\n      width: ").concat(e.spacing(12), ";\n      height: ").concat(e.spacing(12), ";\n\n      .MuiSvgIcon-root {\n        font-size: ").concat(e.typography.pxToRem(45), ";\n      }\n") }))), Z = (0, c.ZP)(a.Z)((function (n) { var e = n.theme; return "\n     background: ".concat(e.colors.error.main, ";\n     color: ").concat(e.palette.error.contrastText, ";\n\n     &:hover {\n        background: ").concat(e.colors.error.dark, ";\n     }\n    ") })); function y(n) { var e = n.collection, r = n.document, c = (0, x.$)().t, i = (0, o.useState)(!1), y = i[0], _ = i[1], b = (0, v.Ds)().enqueueSnackbar, w = (0, m.a)().user, k = function () { _(!1) }; return (0, t.jsxs)(t.Fragment, { children: [(0, t.jsx)(s.Z, { onClick: function () { _(!0) }, color: "error", children: (0, t.jsx)(h.Z, {}) }), (0, t.jsx)(u.Z, { open: y, onClose: k, "aria-labelledby": "alert-dialog-title", "aria-describedby": "alert-dialog-description", sx: { p: 3 }, children: (0, t.jsxs)(d.Z, { display: "flex", alignItems: "center", justifyContent: "center", flexDirection: "column", p: 5, children: [(0, t.jsx)(j, { children: (0, t.jsx)(p.Z, {}) }), (0, t.jsxs)(f.Z, { align: "center", sx: { py: 4, px: 6 }, variant: "h3", children: [c("ConfirmDelete_title"), c("ConfirmDelete_body")] }), (0, t.jsxs)(d.Z, { children: [(0, t.jsx)(a.Z, { variant: "text", size: "large", sx: { mx: 1 }, onClick: k, children: c("Back") }), (0, t.jsx)(Z, { onClick: function () { var n; n = r, g.Z.firestore().collection(null === w || void 0 === w ? void 0 : w.company_id).doc("company").collection(e).doc(null === n || void 0 === n ? void 0 : n.id).delete(), b(c("Deleted"), { variant: "error", anchorOrigin: { vertical: "top", horizontal: "right" }, TransitionComponent: l.Z }), k() }, size: "large", sx: { mx: 1, px: 3 }, variant: "contained", children: c("Delete") })] })] }) })] }) } } }, function (n) { n.O(0, [9990, 5360, 6827, 1849, 8991, 8630, 2453, 6250, 9774, 2888, 179], (function () { return e = 43764, n(n.s = e); var e })); var e = n.O(); _N_E = e }]);