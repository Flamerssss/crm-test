(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4401],{8258:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/fleets/Results",function(){return r(88020)}])},88020:function(e,n,r){"use strict";r.r(n);var t=r(85893),l=r(67294),o=r(53184),i=r(53816),c=r(53252),a=r(26280),s=r(87357),u=r(66242),d=r(50135),f=r(87109),h=r(67720),x=r(15861),v=r(72882),p=r(7906),j=r(295),m=r(21023),g=r(93946),Z=r(47171),y=r(68586),b=r(77058),w=r(99586),_=r(42701),k=r(97029);function P(e,n,r){return n[r]<e[r]?-1:n[r]>e[r]?1:0}function C(e,n){return"desc"===e?function(e,r){return P(e,r,n)}:function(e,r){return-P(e,r,n)}}function O(e,n){var r=null===e||void 0===e?void 0:e.map((function(e,n){return[e,n]}));return null===r||void 0===r||r.sort((function(e,r){var t=n(e[0],r[0]);return 0!==t?t:e[1]-r[1]})),null===r||void 0===r?void 0:r.map((function(e){return e[0]}))}function S(e){var n=(0,b.$)().t,r=e.order,l=e.orderBy,s=e.onRequestSort,u=[{id:"fleet_title",numeric:!1,label:n("fleet_title"),align:"left"},{id:"fleet_count",numeric:!1,label:n("fleet_count"),align:"left"},{id:"fleet_type",numeric:!1,label:n("fleet_type"),align:"center"},{id:"fleet_owner",numeric:!0,label:n("fleet_owner"),align:"left"},{id:"fleet_affiliation",numeric:!0,label:n("fleet_affiliation"),align:"left"}];return(0,t.jsx)(o.Z,{children:(0,t.jsxs)(i.Z,{children:[u.map((function(e){return(0,t.jsx)(c.Z,{sortDirection:l===e.id&&r,children:(0,t.jsx)(a.Z,{active:l===e.id,direction:l===e.id?r:"asc",onClick:(n=e.id,function(e){s(e,n)}),children:e.label})},e.id);var n})),(0,t.jsx)(c.Z,{sortDirection:!1,align:"center",children:n("Actions")})]})})}n.default=function(e){var n,r,o=e.initialData,a=e.collection,P=e.detailsUrl,N=(0,b.$)().t,D=(0,l.useState)(0),R=D[0],A=D[1],E=(0,l.useState)(10),z=E[0],I=E[1],F=(0,l.useState)(""),T=F[0],q=F[1],B=(0,l.useState)("asc"),W=B[0],$=B[1],L=(0,l.useState)("data"),V=L[0],X=L[1];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.Z,{display:"flex",alignItems:"center",flexDirection:{xs:"column",sm:"row"},justifyContent:{xs:"center",sm:"space-between"},pb:3}),(0,t.jsxs)(u.Z,{children:[(0,t.jsx)(s.Z,{p:2,children:(0,t.jsx)(d.Z,{sx:{m:0},InputProps:{startAdornment:(0,t.jsx)(f.Z,{position:"start",children:(0,t.jsx)(_.Z,{})})},onChange:function(e){e.persist(),q(e.target.value)},placeholder:N("placeholderSearch"),value:T,size:"small",fullWidth:!0,margin:"normal",variant:"outlined"})}),(0,t.jsx)(h.Z,{}),0===(null===o||void 0===o?void 0:o.length)?(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(x.Z,{sx:{py:10},variant:"h3",fontWeight:"normal",color:"text.secondary",align:"center",children:N("placeholderSearchNotFound")})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.Z,{children:(0,t.jsxs)(p.Z,{children:[(0,t.jsx)(S,{order:W,orderBy:V,onRequestSort:function(e,n){$(V===n&&"asc"===W?"desc":"asc"),X(n)},rowCount:null===o||void 0===o?void 0:o.length}),(0,t.jsx)(j.Z,{children:null===(r=null===(n=O(o,C(W,V)))||void 0===n?void 0:n.slice(R*z,R*z+z))||void 0===r?void 0:r.map((function(e){return(0,t.jsxs)(i.Z,{hover:!0,children:[(0,t.jsx)(c.Z,{children:(0,t.jsx)(y.C,{href:P+(null===e||void 0===e?void 0:e.id),children:null===e||void 0===e?void 0:e.fleet_title})}),(0,t.jsx)(c.Z,{children:(0,t.jsx)(x.Z,{children:null===e||void 0===e?void 0:e.fleet_count})}),(0,t.jsx)(c.Z,{children:(0,t.jsx)(x.Z,{children:null===e||void 0===e?void 0:e.fleet_type})}),(0,t.jsx)(c.Z,{children:(0,t.jsx)(x.Z,{children:null===e||void 0===e?void 0:e.fleet_owner})}),(0,t.jsx)(c.Z,{children:(0,t.jsx)(x.Z,{children:null===e||void 0===e?void 0:e.fleet_affiliation})}),(0,t.jsx)(c.Z,{align:"center",children:(0,t.jsxs)(x.Z,{noWrap:!0,children:[(0,t.jsx)(m.Z,{title:N("View"),arrow:!0,children:(0,t.jsx)(g.Z,{color:"primary",children:(0,t.jsx)(y.C,{href:P+(null===e||void 0===e?void 0:e.id),children:(0,t.jsx)(w.Z,{fontSize:"small"})})})}),(0,t.jsx)(m.Z,{title:N("Delete"),arrow:!0,children:(0,t.jsx)(k.Z,{collection:a,document:null===e||void 0===e?void 0:e.id})})]})})]},null===e||void 0===e?void 0:e.id)}))})]})}),(0,t.jsx)(s.Z,{p:2,children:(0,t.jsx)(Z.Z,{component:"div",count:null===o||void 0===o?void 0:o.length,onPageChange:function(e,n){A(n)},onRowsPerPageChange:function(e){I(parseInt(e.target.value))},page:R,rowsPerPage:z,labelRowsPerPage:N("RowsPerPage"),rowsPerPageOptions:[5,10,20,50]})})]})]})]})}},68586:function(e,n,r){"use strict";var t=r(85893),l=r(67294),o=r(86010),i=r(11163),c=r(41664),a=r.n(c),s=r(50122);function u(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function d(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){u(e,n,r[n])}))}return e}function f(e,n){if(null==e)return{};var r,t,l=function(e,n){if(null==e)return{};var r,t,l={},o=Object.keys(e);for(t=0;t<o.length;t++)r=o[t],n.indexOf(r)>=0||(l[r]=e[r]);return l}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)r=o[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}var h=(0,r(90948).ZP)("a")({}),x=l.forwardRef((function(e,n){var r=e.to,l=e.linkAs,o=e.replace,i=e.scroll,c=e.shallow,s=e.prefetch,u=e.locale,x=f(e,["to","linkAs","replace","scroll","shallow","prefetch","locale"]);return(0,t.jsx)(a(),{href:r,prefetch:s,as:l,replace:o,scroll:i,shallow:c,passHref:!0,locale:u,children:(0,t.jsx)(h,d({ref:n},x))})})),v=l.forwardRef((function(e,n){var r=e.activeClassName,l=void 0===r?"active":r,c=e.as,a=e.className,v=e.href,p=e.linkAs,j=e.locale,m=e.noLinkStyle,g=e.prefetch,Z=e.replace,y=(e.role,e.scroll),b=e.shallow,w=f(e,["activeClassName","as","className","href","linkAs","locale","noLinkStyle","prefetch","replace","role","scroll","shallow"]),_=(0,i.useRouter)(),k="string"===typeof v?v:v.pathname,P=(0,o.Z)(a,u({},l,_.pathname===k&&l));if("string"===typeof v&&(0===v.indexOf("http")||0===v.indexOf("mailto:")))return m?(0,t.jsx)(h,d({className:P,href:v,ref:n},w)):(0,t.jsx)(s.Z,d({className:P,href:v,ref:n},w));var C={to:v,linkAs:p||c,replace:Z,scroll:y,shallow:b,prefetch:g,locale:j};return m?(0,t.jsx)(x,d({className:P,ref:n},C,w)):(0,t.jsx)(s.Z,d({component:x,className:P,ref:n},C,w))}));n.C=v},75920:function(e,n,r){"use strict";r.d(n,{a:function(){return o}});var t=r(67294),l=r(40517),o=function(){return(0,t.useContext)(l.Vo)}},97029:function(e,n,r){"use strict";r.d(n,{Z:function(){return y}});var t=r(85893),l=r(67294),o=r(90948),i=r(87952),c=r(83321),a=r(6585),s=r(93946),u=r(64666),d=r(87357),f=r(15861),h=r(52521),x=r(50594),v=r(77058),p=r(75920),j=r(73400),m=r(1902),g=(r(96621),(0,o.ZP)(i.Z)((function(e){var n=e.theme;return"\n      background-color: ".concat(n.colors.error.lighter,";\n      color: ").concat(n.colors.error.main,";\n      width: ").concat(n.spacing(12),";\n      height: ").concat(n.spacing(12),";\n\n      .MuiSvgIcon-root {\n        font-size: ").concat(n.typography.pxToRem(45),";\n      }\n")}))),Z=(0,o.ZP)(c.Z)((function(e){var n=e.theme;return"\n     background: ".concat(n.colors.error.main,";\n     color: ").concat(n.palette.error.contrastText,";\n\n     &:hover {\n        background: ").concat(n.colors.error.dark,";\n     }\n    ")}));function y(e){var n=e.collection,r=e.document,o=(0,v.$)().t,i=(0,l.useState)(!1),y=i[0],b=i[1],w=(0,j.Ds)().enqueueSnackbar,_=(0,p.a)().user,k=function(){b(!1)};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.Z,{onClick:function(){b(!0)},color:"error",children:(0,t.jsx)(h.Z,{})}),(0,t.jsx)(u.Z,{open:y,onClose:k,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",sx:{p:3},children:(0,t.jsxs)(d.Z,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",p:5,children:[(0,t.jsx)(g,{children:(0,t.jsx)(x.Z,{})}),(0,t.jsxs)(f.Z,{align:"center",sx:{py:4,px:6},variant:"h3",children:[o("ConfirmDelete_title"),o("ConfirmDelete_body")]}),(0,t.jsxs)(d.Z,{children:[(0,t.jsx)(c.Z,{variant:"text",size:"large",sx:{mx:1},onClick:k,children:o("Back")}),(0,t.jsx)(Z,{onClick:function(){var e;e=r,m.Z.firestore().collection(null===_||void 0===_?void 0:_.company_id).doc("company").collection(n).doc(null===e||void 0===e?void 0:e.id).delete(),w(o("Deleted"),{variant:"error",anchorOrigin:{vertical:"top",horizontal:"right"},TransitionComponent:a.Z}),k()},size:"large",sx:{mx:1,px:3},variant:"contained",children:o("Delete")})]})]})})]})}}},function(e){e.O(0,[9990,5360,6827,3970,5464,6668,2945,1849,8991,8630,990,2453,7171,8785,8678,9774,2888,179],(function(){return n=8258,e(e.s=n);var n}));var n=e.O();_N_E=n}]);