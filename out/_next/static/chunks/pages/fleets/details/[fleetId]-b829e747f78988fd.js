(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4523],{68852:function(e,t,n){"use strict";var r=n(95318);t.Z=void 0;var a=r(n(64938)),i=n(85893),l=(0,a.default)((0,i.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBackTwoTone");t.Z=l},80332:function(e,t,n){"use strict";var r=n(95318);t.Z=void 0;var a=r(n(64938)),i=n(85893),l=(0,a.default)((0,i.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm2 16H5V5h11.17L19 7.83V19zm-7-7c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3zM6 6h9v4H6z"}),"SaveOutlined");t.Z=l},78445:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var r=n(63366),a=n(87462),i=n(67294),l=n(86010),o=n(94780),s=n(15861),c=n(71657),u=n(90948),d=n(34867);function f(e){return(0,d.Z)("MuiCardHeader",e)}var v=(0,n(1588).Z)("MuiCardHeader",["root","avatar","action","content","title","subheader"]),h=n(85893);const x=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],m=(0,u.ZP)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(e,t)=>(0,a.Z)({[`& .${v.title}`]:t.title,[`& .${v.subheader}`]:t.subheader},t.root)})({display:"flex",alignItems:"center",padding:16}),p=(0,u.ZP)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(e,t)=>t.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),j=(0,u.ZP)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(e,t)=>t.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),Z=(0,u.ZP)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(e,t)=>t.content})({flex:"1 1 auto"});var b=i.forwardRef((function(e,t){const n=(0,c.Z)({props:e,name:"MuiCardHeader"}),{action:i,avatar:u,className:d,component:v="div",disableTypography:b=!1,subheader:g,subheaderTypographyProps:y,title:_,titleTypographyProps:P}=n,w=(0,r.Z)(n,x),C=(0,a.Z)({},n,{component:v,disableTypography:b}),O=(e=>{const{classes:t}=e;return(0,o.Z)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},f,t)})(C);let S=_;null==S||S.type===s.Z||b||(S=(0,h.jsx)(s.Z,(0,a.Z)({variant:u?"body2":"h5",className:O.title,component:"span",display:"block"},P,{children:S})));let k=g;return null==k||k.type===s.Z||b||(k=(0,h.jsx)(s.Z,(0,a.Z)({variant:u?"body2":"body1",className:O.subheader,color:"text.secondary",component:"span",display:"block"},y,{children:k}))),(0,h.jsxs)(m,(0,a.Z)({className:(0,l.Z)(O.root,d),as:v,ref:t,ownerState:C},w,{children:[u&&(0,h.jsx)(p,{className:O.avatar,ownerState:C,children:u}),(0,h.jsxs)(Z,{className:O.content,ownerState:C,children:[S,k]}),i&&(0,h.jsx)(j,{className:O.action,ownerState:C,children:i})]}))}))},14799:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/fleets/details/[fleetId]",function(){return n(5158)}])},5158:function(e,t,n){"use strict";n.r(t);var r=n(85893),a=n(67294),i=n(9008),l=n.n(i),o=n(30985),s=n(50542),c=n(46225),u=n(90948),d=n(37023),f=n(87357),v=n(86886),h=n(15861),x=n(83321),m=n(40044),p=n(77058),j=n(68852),Z=n(68586),b=n(75920),g=n(71341),y=n(80332),_=n(43304),P=n(79360);function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=(0,u.ZP)(d.Z)((function(){return"\n    .MuiTabs-scrollableX {\n      overflow-x: auto !important;\n    }\n"}));function O(){var e=window.location.pathname.replace("/fleets/details/",""),t="/fleets",n=(0,p.$)().t,i=(0,b.a)().user,o=(0,a.useState)("info"),s=o[0],u=o[1],d=[{value:"info",label:n("fleet_info")},{value:"cars",label:n("fleet_cars")}],O=(0,a.useState)(null),S=O[0],k=O[1],T=(0,a.useState)(null),I=T[0],N=T[1],H=(0,a.useState)(null),M=H[0],E=H[1],R=(0,a.useState)(null),D=R[0],A=R[1];(0,a.useEffect)((function(){(null===i||void 0===i?void 0:i.company_id)&&((0,g.t)("fleets",null===i||void 0===i?void 0:i.company_id,"id",e).then(k),(0,g.Dh)(null===i||void 0===i?void 0:i.company_id).then(N),(0,g.Cq)(null===i||void 0===i?void 0:i.company_id).then(E))}),[i]);var B=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){w(e,t,n[t])}))}return e}({},Object.assign({},S)[0]);(0,a.useEffect)((function(){(null===B||void 0===B?void 0:B.id)&&(0,g.t)("cars",null===i||void 0===i?void 0:i.company_id,"car_fleet_id",B.id).then(A)}),[null===B||void 0===B?void 0:B.id]);var L=(0,a.useState)(null),W=L[0],z=L[1];return console.log("data",W),(0,a.useEffect)((function(){(null===B||void 0===B?void 0:B.id)&&z(B)}),[null===B||void 0===B?void 0:B.id]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.Z,{display:"flex",style:{marginTop:30,marginRight:50},children:(0,r.jsxs)(v.ZP,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,r.jsx)(v.ZP,{item:!0,children:(0,r.jsx)(f.Z,{style:{marginLeft:30,marginTop:5},children:(0,r.jsx)(h.Z,{variant:"h3",component:"h3",gutterBottom:!0,children:null===B||void 0===B?void 0:B.fleet_title})})}),(0,r.jsxs)(v.ZP,{item:!0,children:[(0,r.jsx)(x.Z,{sx:{mt:{xs:2,sm:0}},component:Z.C,startIcon:(0,r.jsx)(j.Z,{}),href:t,variant:"text",children:n("Back")}),(0,r.jsx)(x.Z,{sx:{mt:{xs:2,sm:0}},component:Z.C,startIcon:(0,r.jsx)(y.Z,{}),href:t,variant:"contained",style:{marginLeft:30},children:n("Save")})]})]})}),(0,r.jsx)(l(),{children:(0,r.jsxs)("title",{children:[null===B||void 0===B?void 0:B.fleet_title," - ",n("Details")]})}),(0,r.jsx)(f.Z,{sx:{mt:3},children:(0,r.jsxs)(v.ZP,{sx:{px:4},container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:3,children:[(0,r.jsx)(v.ZP,{item:!0,xs:12,children:(0,r.jsx)(C,{onChange:function(e,t){u(t)},value:s,variant:"scrollable",scrollButtons:"auto",textColor:"primary",indicatorColor:"primary",children:d.map((function(e){return(0,r.jsx)(m.Z,{label:e.label,value:e.value},e.value)}))})}),(0,r.jsxs)(v.ZP,{item:!0,xs:12,children:["info"===s&&(0,r.jsx)(_.default,{initialData:W,staff:I,owners:M,fleetCars:null===D||void 0===D?void 0:D.length,setData:function(e){z(e)}}),"cars"===s&&(0,r.jsx)(P.default,{fleetCars:D})]})]})}),(0,r.jsx)(c.Z,{})]})}O.getLayout=function(e){return(0,r.jsx)(s._,{children:(0,r.jsx)(o.Z,{children:e})})},t.default=O},43304:function(e,t,n){"use strict";n.r(t);var r=n(85893),a=(n(67294),n(86886)),i=n(66242),l=n(78445),o=n(67720),s=n(44267),c=n(50135),u=n(18972),d=(n(15063),n(77058));function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){f(e,t,n[t])}))}return e}var h=[{value:"\u041b\u0435\u0433\u043a\u043e\u0432\u043e\u0439",label:"\u041b\u0435\u0433\u043a\u043e\u0432\u043e\u0439"},{value:"\u0413\u0440\u0443\u0437\u043e\u0432\u043e\u0439",label:"\u0413\u0440\u0443\u0437\u043e\u0432\u043e\u0439"},{value:"\u0421\u043c\u0435\u0448\u0430\u043d\u043d\u044b\u0439",label:"\u0421\u043c\u0435\u0448\u0430\u043d\u043d\u044b\u0439"}];t.default=function(e){var t=e.initialData,n=e.setData,f=e.staff,x=e.owners,m=e.fleetCars,p=(0,d.$)().t;return(0,r.jsxs)(a.ZP,{container:!0,spacing:3,children:[(0,r.jsx)(a.ZP,{item:!0,xs:12,md:6,children:(0,r.jsxs)(i.Z,{children:[(0,r.jsx)(l.Z,{title:p("fleet_info")}),(0,r.jsx)(o.Z,{}),(0,r.jsx)(s.Z,{children:(0,r.jsxs)(a.ZP,{container:!0,spacing:3,children:[(0,r.jsx)(a.ZP,{item:!0,xs:12,md:6,children:(0,r.jsx)(c.Z,{value:(null===t||void 0===t?void 0:t.fleet_title)||"",onChange:function(e){n(v({},t,{fleet_title:e.target.value}))},fullWidth:!0,label:p("fleet_title"),variant:"outlined"})}),(0,r.jsx)(a.ZP,{item:!0,xs:12,md:6,children:(0,r.jsx)(c.Z,{id:"outlined-select-experience",select:!0,fullWidth:!0,label:p("fleet_owner"),value:(null===t||void 0===t?void 0:t.fleet_owner)||"",onChange:function(e){var r=f.findIndex((function(t){return t.staff_surname+" "+t.staff_name===e.target.value}));-1!==r&&n(v({},t,{fleet_owner_id:f[r].id,fleet_owner:e.target.value}))},variant:"outlined",children:null===f||void 0===f?void 0:f.map((function(e){return(0,r.jsx)(u.Z,{value:e.staff_surname+" "+e.staff_name,children:e.staff_surname+" "+e.staff_name},e.staff_name)}))})}),(0,r.jsx)(a.ZP,{item:!0,xs:12,md:6,children:(0,r.jsx)(c.Z,{select:!0,fullWidth:!0,label:p("fleet_type"),value:(null===t||void 0===t?void 0:t.fleet_type)||"",onChange:function(e){n(v({},t,{fleet_type:e.target.value}))},variant:"outlined",children:null===h||void 0===h?void 0:h.map((function(e){return(0,r.jsx)(u.Z,{value:e.value,children:e.label},e.value)}))})}),(0,r.jsx)(a.ZP,{item:!0,xs:12,md:6,children:(0,r.jsx)(c.Z,{select:!0,fullWidth:!0,label:p("fleet_affiliation"),value:(null===t||void 0===t?void 0:t.fleet_affiliation)||"",onChange:function(e){var r=x.findIndex((function(t){return t.owner_fullname===e.target.value}));-1!==r&&n(v({},t,{fleet_affiliation:e.target.value,fleet_affiliation_id:x[r].id}))},variant:"outlined",children:null===x||void 0===x?void 0:x.map((function(e){return(0,r.jsx)(u.Z,{value:e.owner_fullname,children:e.owner_fullname},e.owner_fullname)}))})}),(0,r.jsx)(a.ZP,{item:!0,xs:6,children:(0,r.jsx)(c.Z,{disabled:!0,value:m||0,fullWidth:!0,label:p("fleet_count"),variant:"outlined"})})]})})]})}),(0,r.jsx)(a.ZP,{item:!0,xs:12,md:6,children:(0,r.jsxs)(i.Z,{children:[(0,r.jsx)(l.Z,{title:p("fleet_actions")}),(0,r.jsx)(o.Z,{}),(0,r.jsx)(s.Z,{children:(0,r.jsx)(a.ZP,{container:!0,spacing:3,children:(0,r.jsx)(a.ZP,{item:!0,xs:12,md:12,children:"..."})})})]})})]})}},79360:function(e,t,n){"use strict";n.r(t);var r=n(85893),a=n(86886),i=n(80507);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){l(e,t,n[t])}))}return e}t.default=function(e){var t=e.fleetCars,n=(0,r.jsx)(r.Fragment,{});return t&&(n=null===t||void 0===t?void 0:t.map((function(e,t){return(0,r.jsx)(a.ZP,{item:!0,xs:12,sm:6,lg:4,xl:3,children:(0,r.jsx)(i.default,o({},e))},t)}))),(0,r.jsx)(a.ZP,{container:!0,direction:"row",spacing:3,children:n})}},80507:function(e,t,n){"use strict";n.r(t);var r=n(85893),a=(n(67294),n(66242)),i=n(83965),l=n(44267),o=n(86886),s=n(15861),c=n(87918),u=n(83321),d=n(77058);function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}t.default=function(e){var t=f({},e),n=(0,d.$)().t;return(0,r.jsxs)(a.Z,{children:[(0,r.jsx)(i.Z,{component:"img",image:t.car_image,title:"Slider5 image",sx:{height:"200px"}}),(0,r.jsx)(l.Z,{sx:{p:2,pb:"16px !important"},children:(0,r.jsxs)(o.ZP,{container:!0,spacing:3,children:[(0,r.jsx)(o.ZP,{item:!0,xs:12,alignItems:"center",children:(0,r.jsxs)(o.ZP,{container:!0,spacing:1,children:[(0,r.jsx)(o.ZP,{item:!0,xs:12,children:(0,r.jsx)(s.Z,{variant:"h4",children:t.car_model})}),(0,r.jsxs)(o.ZP,{item:!0,xs:12,children:["Available"===t.car_status&&(0,r.jsx)(c.Z,{label:n("Available"),color:"success"}),"InRent"===t.car_status&&(0,r.jsx)(c.Z,{label:n("InRent"),color:"warning"}),"Booked"===t.car_status&&(0,r.jsx)(c.Z,{label:n("Booked"),color:"info"}),"Inservice"===t.car_status&&(0,r.jsx)(c.Z,{label:n("Inservice"),color:"error"})]})]})}),(0,r.jsx)(o.ZP,{item:!0,xs:12,children:(0,r.jsx)(u.Z,{variant:"outlined",fullWidth:!0,onClick:function(){return setProfileAvtoModalOpen(t)},children:n("fleet_car_profile")})})]})})]})}},46225:function(e,t,n){"use strict";var r=n(85893),a=n(90948),i=n(66242),l=n(87357),o=n(15861),s=n(68586),c=(0,a.ZP)(i.Z)((function(e){var t=e.theme;return"\n        border-radius: 0;\n        margin-top: ".concat(t.spacing(4),";\n")}));t.Z=function(){return(0,r.jsx)(c,{className:"footer-wrapper",children:(0,r.jsxs)(l.Z,{p:4,display:{xs:"block",md:"flex"},alignItems:"center",textAlign:{xs:"center",md:"left"},justifyContent:"space-between",children:[(0,r.jsx)(l.Z,{children:(0,r.jsx)(o.Z,{variant:"subtitle1",children:"\xa9 2022 - CarCense - Car rental management system"})}),(0,r.jsxs)(o.Z,{sx:{pt:{xs:2,md:0}},variant:"subtitle1",children:["Crafted by"," ",(0,r.jsx)(s.C,{href:"https://car-sense.io",target:"_blank",rel:"noopener noreferrer",children:"Car-Sense.io"})]})]})})}}},function(e){e.O(0,[5006,9990,5360,6827,3970,5464,6668,2945,1849,8991,8630,990,3274,889,5974,8922,2628,6541,8251,5063,7827,9355,8035,1341,9774,2888,179],(function(){return t=14799,e(e.s=t);var t}));var t=e.O();_N_E=t}]);