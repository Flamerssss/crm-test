(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[427],{92883:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/owners/Results",function(){return r(72481)}])},72481:function(e,n,r){"use strict";r.r(n);var o=r(85893),t=r(67294),l=r(53184),i=r(53816),c=r(53252),a=r(26280),s=r(87357),u=r(66242),d=r(50135),f=r(87109),h=r(67720),p=r(15861),x=r(72882),v=r(7906),m=r(295),j=r(21023),g=r(93946),Z=r(47171),w=r(68586),b=r(77058),y=r(99586),_=r(42701),k=r(97029);function P(e,n,r){return n[r]<e[r]?-1:n[r]>e[r]?1:0}function C(e,n){return"desc"===e?function(e,r){return P(e,r,n)}:function(e,r){return-P(e,r,n)}}function O(e,n){var r=null===e||void 0===e?void 0:e.map((function(e,n){return[e,n]}));return null===r||void 0===r||r.sort((function(e,r){var o=n(e[0],r[0]);return 0!==o?o:e[1]-r[1]})),null===r||void 0===r?void 0:r.map((function(e){return e[0]}))}function S(e){var n=(0,b.$)().t,r=e.order,t=e.orderBy,s=e.onRequestSort,u=[{id:"owner_fullname",numeric:!1,label:n("owner_title"),align:"left"},{id:"owner_phone",numeric:!1,label:n("owner_phone"),align:"left"},{id:"owner_profit",numeric:!1,label:n("owner_profit"),align:"center"},{id:"owner_comment",numeric:!0,label:n("owner_comment"),align:"left"}];return(0,o.jsx)(l.Z,{children:(0,o.jsxs)(i.Z,{children:[u.map((function(e){return(0,o.jsx)(c.Z,{sortDirection:t===e.id&&r,children:(0,o.jsx)(a.Z,{active:t===e.id,direction:t===e.id?r:"asc",onClick:(n=e.id,function(e){s(e,n)}),children:e.label})},e.id);var n})),(0,o.jsx)(c.Z,{sortDirection:!1,align:"center",children:n("Actions")})]})})}n.default=function(e){var n,r,l=e.initialData,a=e.collection,P=e.detailsUrl,N=(0,b.$)().t,D=(0,t.useState)(0),R=D[0],A=D[1],E=(0,t.useState)(10),z=E[0],I=E[1],F=(0,t.useState)(""),T=F[0],q=F[1],B=(0,t.useState)("asc"),W=B[0],$=B[1],L=(0,t.useState)("data"),V=L[0],X=L[1];return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.Z,{display:"flex",alignItems:"center",flexDirection:{xs:"column",sm:"row"},justifyContent:{xs:"center",sm:"space-between"},pb:3}),(0,o.jsxs)(u.Z,{children:[(0,o.jsx)(s.Z,{p:2,children:(0,o.jsx)(d.Z,{sx:{m:0},InputProps:{startAdornment:(0,o.jsx)(f.Z,{position:"start",children:(0,o.jsx)(_.Z,{})})},onChange:function(e){e.persist(),q(e.target.value)},placeholder:N("placeholderSearch"),value:T,size:"small",fullWidth:!0,margin:"normal",variant:"outlined"})}),(0,o.jsx)(h.Z,{}),0===(null===l||void 0===l?void 0:l.length)?(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(p.Z,{sx:{py:10},variant:"h3",fontWeight:"normal",color:"text.secondary",align:"center",children:N("placeholderSearchNotFound")})}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(x.Z,{children:(0,o.jsxs)(v.Z,{children:[(0,o.jsx)(S,{order:W,orderBy:V,onRequestSort:function(e,n){$(V===n&&"asc"===W?"desc":"asc"),X(n)},rowCount:null===l||void 0===l?void 0:l.length}),(0,o.jsx)(m.Z,{children:null===(r=null===(n=O(l,C(W,V)))||void 0===n?void 0:n.slice(R*z,R*z+z))||void 0===r?void 0:r.map((function(e){return(0,o.jsxs)(i.Z,{hover:!0,children:[(0,o.jsx)(c.Z,{children:(0,o.jsx)(w.C,{href:P+(null===e||void 0===e?void 0:e.id),children:null===e||void 0===e?void 0:e.owner_fullname})}),(0,o.jsx)(c.Z,{children:(0,o.jsx)(p.Z,{children:null===e||void 0===e?void 0:e.owner_phone})}),(0,o.jsx)(c.Z,{children:(0,o.jsx)(p.Z,{children:null===e||void 0===e?void 0:e.owner_profit})}),(0,o.jsx)(c.Z,{children:(0,o.jsx)(p.Z,{children:null===e||void 0===e?void 0:e.owner_comment})}),(0,o.jsx)(c.Z,{align:"center",children:(0,o.jsxs)(p.Z,{noWrap:!0,children:[(0,o.jsx)(j.Z,{title:N("View"),arrow:!0,children:(0,o.jsx)(g.Z,{color:"primary",children:(0,o.jsx)(w.C,{href:P+(null===e||void 0===e?void 0:e.id),children:(0,o.jsx)(y.Z,{fontSize:"small"})})})}),(0,o.jsx)(j.Z,{title:N("Delete"),arrow:!0,children:(0,o.jsx)(k.Z,{collection:a,document:null===e||void 0===e?void 0:e.id})})]})})]},null===e||void 0===e?void 0:e.id)}))})]})}),(0,o.jsx)(s.Z,{p:2,children:(0,o.jsx)(Z.Z,{component:"div",count:null===l||void 0===l?void 0:l.length,onPageChange:function(e,n){A(n)},onRowsPerPageChange:function(e){I(parseInt(e.target.value))},page:R,rowsPerPage:z,labelRowsPerPage:N("RowsPerPage"),rowsPerPageOptions:[5,10,20,50]})})]})]})]})}},68586:function(e,n,r){"use strict";var o=r(85893),t=r(67294),l=r(86010),i=r(11163),c=r(41664),a=r.n(c),s=r(50122);function u(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function d(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},o=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),o.forEach((function(n){u(e,n,r[n])}))}return e}function f(e,n){if(null==e)return{};var r,o,t=function(e,n){if(null==e)return{};var r,o,t={},l=Object.keys(e);for(o=0;o<l.length;o++)r=l[o],n.indexOf(r)>=0||(t[r]=e[r]);return t}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)r=l[o],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(t[r]=e[r])}return t}var h=(0,r(90948).ZP)("a")({}),p=t.forwardRef((function(e,n){var r=e.to,t=e.linkAs,l=e.replace,i=e.scroll,c=e.shallow,s=e.prefetch,u=e.locale,p=f(e,["to","linkAs","replace","scroll","shallow","prefetch","locale"]);return(0,o.jsx)(a(),{href:r,prefetch:s,as:t,replace:l,scroll:i,shallow:c,passHref:!0,locale:u,children:(0,o.jsx)(h,d({ref:n},p))})})),x=t.forwardRef((function(e,n){var r=e.activeClassName,t=void 0===r?"active":r,c=e.as,a=e.className,x=e.href,v=e.linkAs,m=e.locale,j=e.noLinkStyle,g=e.prefetch,Z=e.replace,w=(e.role,e.scroll),b=e.shallow,y=f(e,["activeClassName","as","className","href","linkAs","locale","noLinkStyle","prefetch","replace","role","scroll","shallow"]),_=(0,i.useRouter)(),k="string"===typeof x?x:x.pathname,P=(0,l.Z)(a,u({},t,_.pathname===k&&t));if("string"===typeof x&&(0===x.indexOf("http")||0===x.indexOf("mailto:")))return j?(0,o.jsx)(h,d({className:P,href:x,ref:n},y)):(0,o.jsx)(s.Z,d({className:P,href:x,ref:n},y));var C={to:x,linkAs:v||c,replace:Z,scroll:w,shallow:b,prefetch:g,locale:m};return j?(0,o.jsx)(p,d({className:P,ref:n},C,y)):(0,o.jsx)(s.Z,d({component:p,className:P,ref:n},C,y))}));n.C=x},75920:function(e,n,r){"use strict";r.d(n,{a:function(){return l}});var o=r(67294),t=r(40517),l=function(){return(0,o.useContext)(t.Vo)}},97029:function(e,n,r){"use strict";r.d(n,{Z:function(){return w}});var o=r(85893),t=r(67294),l=r(90948),i=r(87952),c=r(83321),a=r(6585),s=r(93946),u=r(64666),d=r(87357),f=r(15861),h=r(52521),p=r(50594),x=r(77058),v=r(75920),m=r(73400),j=r(1902),g=(r(96621),(0,l.ZP)(i.Z)((function(e){var n=e.theme;return"\n      background-color: ".concat(n.colors.error.lighter,";\n      color: ").concat(n.colors.error.main,";\n      width: ").concat(n.spacing(12),";\n      height: ").concat(n.spacing(12),";\n\n      .MuiSvgIcon-root {\n        font-size: ").concat(n.typography.pxToRem(45),";\n      }\n")}))),Z=(0,l.ZP)(c.Z)((function(e){var n=e.theme;return"\n     background: ".concat(n.colors.error.main,";\n     color: ").concat(n.palette.error.contrastText,";\n\n     &:hover {\n        background: ").concat(n.colors.error.dark,";\n     }\n    ")}));function w(e){var n=e.collection,r=e.document,l=(0,x.$)().t,i=(0,t.useState)(!1),w=i[0],b=i[1],y=(0,m.Ds)().enqueueSnackbar,_=(0,v.a)().user,k=function(){b(!1)};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.Z,{onClick:function(){b(!0)},color:"error",children:(0,o.jsx)(h.Z,{})}),(0,o.jsx)(u.Z,{open:w,onClose:k,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",sx:{p:3},children:(0,o.jsxs)(d.Z,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",p:5,children:[(0,o.jsx)(g,{children:(0,o.jsx)(p.Z,{})}),(0,o.jsxs)(f.Z,{align:"center",sx:{py:4,px:6},variant:"h3",children:[l("ConfirmDelete_title"),l("ConfirmDelete_body")]}),(0,o.jsxs)(d.Z,{children:[(0,o.jsx)(c.Z,{variant:"text",size:"large",sx:{mx:1},onClick:k,children:l("Back")}),(0,o.jsx)(Z,{onClick:function(){var e;e=r,j.Z.firestore().collection(null===_||void 0===_?void 0:_.company_id).doc("company").collection(n).doc(null===e||void 0===e?void 0:e.id).delete(),y(l("Deleted"),{variant:"error",anchorOrigin:{vertical:"top",horizontal:"right"},TransitionComponent:a.Z}),k()},size:"large",sx:{mx:1,px:3},variant:"contained",children:l("Delete")})]})]})})]})}}},function(e){e.O(0,[9990,5360,6827,3970,5464,6668,2945,1849,8991,8630,990,2453,7171,8785,513,9774,2888,179],(function(){return n=92883,e(e.s=n);var n}));var n=e.O();_N_E=n}]);