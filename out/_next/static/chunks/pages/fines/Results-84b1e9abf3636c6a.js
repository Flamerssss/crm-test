(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3845],{31796:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/fines/Results",function(){return r(30359)}])},78958:function(e,n,r){"use strict";r.r(n);var t=r(34051),o=r.n(t),i=r(85893),l=r(67294),c=r(87357),a=r(83321),s=r(77058),u=r(1902);r(15063);function d(e,n,r,t,o,i,l){try{var c=e[i](l),a=c.value}catch(s){return void r(s)}c.done?n(a):Promise.resolve(a).then(t,o)}function f(e){return function(){var n=this,r=arguments;return new Promise((function(t,o){var i=e.apply(n,r);function l(e){d(i,t,o,l,c,"next",e)}function c(e){d(i,t,o,l,c,"throw",e)}l(void 0)}))}}function h(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function p(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){h(e,n,r[n])}))}return e}n.default=function(e){var n=e.fines,r=(0,l.useState)(Date.now())[0],t=(0,s.$)().t,d=window.location.origin+window.location.pathname.replace("/fines","/finepage/".concat(r)),h=function(){var e=f(o().mark((function e(){var t,i,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={pageUrl:d,idGetFine:r,fines:n},e.next=3,u.Z.firestore().collection("fines").add(t);case 3:return i=e.sent,l=p({},t,{id:i.id}),e.next=7,i.set(l);case 7:window.open("".concat(d));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(c.Z,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[(0,i.jsx)(c.Z,{display:"flex",alignItems:"center"}),(0,i.jsx)(a.Z,{onClick:f(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),variant:"contained",color:"primary",children:t("create_pay_page_fine")})]})})}},30359:function(e,n,r){"use strict";r.r(n);var t=r(85893),o=r(67294),i=r(45697),l=r.n(i),c=r(90948),a=r(37023),s=r(87357),u=r(40044),d=r(33454),f=r(66242),h=r(50135),p=r(87109),v=r(67720),x=r(15861),j=r(72882),m=r(7906),g=r(53184),b=r(53816),y=r(53252),Z=r(69368),w=r(295),k=r(21023),O=r(93946),P=r(47171),_=r(68586),C=r(77058),S=r(99586),A=r(78958),N=r(42701),D=r(97029);function E(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function I(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function R(e){return function(e){if(Array.isArray(e))return E(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return E(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var T=(0,c.ZP)(a.Z)((function(e){var n=e.theme;return"\n    @media (max-width: ".concat(n.breakpoints.values.md,"px) {\n      .MuiTabs-scrollableX {\n        overflow-x: auto !important;\n      }\n\n      .MuiTabs-indicator {\n          box-shadow: none;\n      }\n    }\n    ")})),F=function(e){var n=e.fines,r=(0,o.useState)([]),i=r[0],l=r[1],c=(0,C.$)().t,a=[{value:"all",label:c("All")}],E=(0,o.useState)(0),F=E[0],z=E[1],L=(0,o.useState)(10),M=L[0],$=L[1],W=(0,o.useState)(""),X=W[0],q=W[1],B=(0,o.useState)({id:null}),U=B[0],V=B[1],G=function(e,n,r){return null===e||void 0===e?void 0:e.filter((function(e){var t=!0;if(n){var o=!1;["email","name","username"].forEach((function(r){e[r].toLowerCase().includes(n.toLowerCase())&&(o=!0)})),r.id&&(null===e||void 0===e?void 0:e.id)!==r.id&&(t=!1),o||(t=!1)}return Object.keys(r).forEach((function(n){var o=r[n];o&&e[n]!==o&&(t=!1)})),t}))}(n,X,U),H=function(e,n,r){return null===e||void 0===e?void 0:e.slice(n*r,n*r+r)}(G,F,M),J=i.length>0,K=i.length>0&&i.length<(null===n||void 0===n?void 0:n.length),Q=i.length===(null===n||void 0===n?void 0:n.length),Y=(0,o.useState)("table_view"),ee=Y[0],ne=Y[1];return console.log("selectedItems",i),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(s.Z,{display:"flex",alignItems:"center",flexDirection:{xs:"column",sm:"row"},justifyContent:{xs:"center",sm:"space-between"},pb:3,children:[(0,t.jsx)(T,{onChange:function(e,n){var r=null;"all"!==n&&(r=n),V((function(e){return function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){I(e,n,r[n])}))}return e}({},e,{role:r})})),l([])},scrollButtons:"auto",textColor:"secondary",value:U.id||"all",variant:"scrollable",children:a.map((function(e){return(0,t.jsx)(u.Z,{value:e.value,label:e.label},e.value)}))}),(0,t.jsx)(d.Z,{sx:{mt:{xs:2,sm:0}},value:ee,exclusive:!0,onChange:function(e,n){ne(n)}})]}),"table_view"===ee&&(0,t.jsxs)(f.Z,{children:[(0,t.jsxs)(s.Z,{p:2,children:[!J&&(0,t.jsx)(h.Z,{sx:{m:0},InputProps:{startAdornment:(0,t.jsx)(p.Z,{position:"start",children:(0,t.jsx)(N.Z,{})})},onChange:function(e){e.persist(),q(e.target.value)},placeholder:c("placeholderSearch"),value:X,size:"small",fullWidth:!0,margin:"normal",variant:"outlined"}),J&&(0,t.jsx)(A.default,{fines:i})]}),(0,t.jsx)(v.Z,{}),0===(null===H||void 0===H?void 0:H.length)?(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(x.Z,{sx:{py:10},variant:"h3",fontWeight:"normal",color:"text.secondary",align:"center",children:c("placeholderSearchNotFound")})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(j.Z,{children:(0,t.jsxs)(m.Z,{children:[(0,t.jsx)(g.Z,{children:(0,t.jsxs)(b.Z,{children:[(0,t.jsx)(y.Z,{padding:"checkbox",children:(0,t.jsx)(Z.Z,{checked:Q,indeterminate:K,onChange:function(e){l(e.target.checked?null===n||void 0===n?void 0:n.map((function(e){return e})):[])}})}),(0,t.jsx)(y.Z,{children:c("fine_client")}),(0,t.jsx)(y.Z,{children:c("fine_date")}),(0,t.jsx)(y.Z,{children:c("fine_car")}),(0,t.jsx)(y.Z,{children:c("fine_type_of_violation")}),(0,t.jsx)(y.Z,{children:c("fine_summa")}),(0,t.jsx)(y.Z,{children:c("fine_status")}),(0,t.jsx)(y.Z,{align:"center",children:c("Actions")})]})}),(0,t.jsx)(w.Z,{children:null===H||void 0===H?void 0:H.map((function(e){var n=i.includes(e);return(0,t.jsxs)(b.Z,{hover:!0,selected:n,children:[(0,t.jsx)(y.Z,{padding:"checkbox",children:(0,t.jsx)(Z.Z,{checked:n,onChange:function(n){return function(e,n){i.includes(n)?l((function(e){return e.filter((function(e){return e!==n}))})):l((function(e){return R(e).concat([n])}))}(0,e)},value:n})}),(0,t.jsx)(y.Z,{children:(0,t.jsx)(x.Z,{variant:"h5",children:(0,t.jsx)(_.C,{variant:"h5",href:"/fines/details/"+(null===e||void 0===e?void 0:e.id),children:null===e||void 0===e?void 0:e.tickets_client})})}),(0,t.jsx)(y.Z,{children:(0,t.jsx)(x.Z,{children:null===e||void 0===e?void 0:e.tickets_data})}),(0,t.jsx)(y.Z,{children:(0,t.jsx)(x.Z,{children:null===e||void 0===e?void 0:e.tickets_auto})}),(0,t.jsx)(y.Z,{children:(0,t.jsx)(x.Z,{children:null===e||void 0===e?void 0:e.tickets_type})}),(0,t.jsx)(y.Z,{children:(0,t.jsx)(x.Z,{children:null===e||void 0===e?void 0:e.tickets_summa})}),(0,t.jsx)(y.Z,{children:null===e||void 0===e?void 0:e.tickets_status}),(0,t.jsx)(y.Z,{align:"center",children:(0,t.jsxs)(x.Z,{noWrap:!0,children:[(0,t.jsx)(k.Z,{title:c("View"),arrow:!0,children:(0,t.jsx)(O.Z,{href:"/fines/details/"+e.id,color:"primary",children:(0,t.jsx)(S.Z,{fontSize:"small"})})}),(0,t.jsx)(k.Z,{title:c("Delete"),arrow:!0,children:(0,t.jsx)(D.Z,{collection:"tickets",document:null===e||void 0===e?void 0:e.id})})]})})]},e.id)}))})]})}),(0,t.jsx)(s.Z,{p:2,children:(0,t.jsx)(P.Z,{component:"div",count:null===G||void 0===G?void 0:G.length,onPageChange:function(e,n){z(n)},onRowsPerPageChange:function(e){$(parseInt(e.target.value))},page:F,rowsPerPage:M,labelRowsPerPage:c("RowsPerPage"),rowsPerPageOptions:[5,10,15]})})]})]})]})};F.propTypes={fines:l().array.isRequired},F.defaultProps={fines:[]},n.default=F},68586:function(e,n,r){"use strict";var t=r(85893),o=r(67294),i=r(86010),l=r(11163),c=r(41664),a=r.n(c),s=r(50122);function u(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function d(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){u(e,n,r[n])}))}return e}function f(e,n){if(null==e)return{};var r,t,o=function(e,n){if(null==e)return{};var r,t,o={},i=Object.keys(e);for(t=0;t<i.length;t++)r=i[t],n.indexOf(r)>=0||(o[r]=e[r]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)r=i[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var h=(0,r(90948).ZP)("a")({}),p=o.forwardRef((function(e,n){var r=e.to,o=e.linkAs,i=e.replace,l=e.scroll,c=e.shallow,s=e.prefetch,u=e.locale,p=f(e,["to","linkAs","replace","scroll","shallow","prefetch","locale"]);return(0,t.jsx)(a(),{href:r,prefetch:s,as:o,replace:i,scroll:l,shallow:c,passHref:!0,locale:u,children:(0,t.jsx)(h,d({ref:n},p))})})),v=o.forwardRef((function(e,n){var r=e.activeClassName,o=void 0===r?"active":r,c=e.as,a=e.className,v=e.href,x=e.linkAs,j=e.locale,m=e.noLinkStyle,g=e.prefetch,b=e.replace,y=(e.role,e.scroll),Z=e.shallow,w=f(e,["activeClassName","as","className","href","linkAs","locale","noLinkStyle","prefetch","replace","role","scroll","shallow"]),k=(0,l.useRouter)(),O="string"===typeof v?v:v.pathname,P=(0,i.Z)(a,u({},o,k.pathname===O&&o));if("string"===typeof v&&(0===v.indexOf("http")||0===v.indexOf("mailto:")))return m?(0,t.jsx)(h,d({className:P,href:v,ref:n},w)):(0,t.jsx)(s.Z,d({className:P,href:v,ref:n},w));var _={to:v,linkAs:x||c,replace:b,scroll:y,shallow:Z,prefetch:g,locale:j};return m?(0,t.jsx)(p,d({className:P,ref:n},_,w)):(0,t.jsx)(s.Z,d({component:p,className:P,ref:n},_,w))}));n.C=v},75920:function(e,n,r){"use strict";r.d(n,{a:function(){return i}});var t=r(67294),o=r(40517),i=function(){return(0,t.useContext)(o.Vo)}},97029:function(e,n,r){"use strict";r.d(n,{Z:function(){return y}});var t=r(85893),o=r(67294),i=r(90948),l=r(87952),c=r(83321),a=r(6585),s=r(93946),u=r(64666),d=r(87357),f=r(15861),h=r(52521),p=r(50594),v=r(77058),x=r(75920),j=r(73400),m=r(1902),g=(r(96621),(0,i.ZP)(l.Z)((function(e){var n=e.theme;return"\n      background-color: ".concat(n.colors.error.lighter,";\n      color: ").concat(n.colors.error.main,";\n      width: ").concat(n.spacing(12),";\n      height: ").concat(n.spacing(12),";\n\n      .MuiSvgIcon-root {\n        font-size: ").concat(n.typography.pxToRem(45),";\n      }\n")}))),b=(0,i.ZP)(c.Z)((function(e){var n=e.theme;return"\n     background: ".concat(n.colors.error.main,";\n     color: ").concat(n.palette.error.contrastText,";\n\n     &:hover {\n        background: ").concat(n.colors.error.dark,";\n     }\n    ")}));function y(e){var n=e.collection,r=e.document,i=(0,v.$)().t,l=(0,o.useState)(!1),y=l[0],Z=l[1],w=(0,j.Ds)().enqueueSnackbar,k=(0,x.a)().user,O=function(){Z(!1)};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.Z,{onClick:function(){Z(!0)},color:"error",children:(0,t.jsx)(h.Z,{})}),(0,t.jsx)(u.Z,{open:y,onClose:O,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",sx:{p:3},children:(0,t.jsxs)(d.Z,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",p:5,children:[(0,t.jsx)(g,{children:(0,t.jsx)(p.Z,{})}),(0,t.jsxs)(f.Z,{align:"center",sx:{py:4,px:6},variant:"h3",children:[i("ConfirmDelete_title"),i("ConfirmDelete_body")]}),(0,t.jsxs)(d.Z,{children:[(0,t.jsx)(c.Z,{variant:"text",size:"large",sx:{mx:1},onClick:O,children:i("Back")}),(0,t.jsx)(b,{onClick:function(){var e;e=r,m.Z.firestore().collection(null===k||void 0===k?void 0:k.company_id).doc("company").collection(n).doc(null===e||void 0===e?void 0:e.id).delete(),w(i("Deleted"),{variant:"error",anchorOrigin:{vertical:"top",horizontal:"right"},TransitionComponent:a.Z}),O()},size:"large",sx:{mx:1,px:3},variant:"contained",children:i("Delete")})]})]})})]})}}},function(e){e.O(0,[9990,5360,6827,3970,5464,6668,2945,1849,8991,8630,990,3274,2453,7171,5063,2076,6849,9774,2888,179],(function(){return n=31796,e(e.s=n);var n}));var n=e.O();_N_E=n}]);