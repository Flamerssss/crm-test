(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9826],{94229:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/photoRew/EditorBody",function(){return t(676)}])},676:function(n,e,t){"use strict";t.r(e);var i=t(85893),o=t(67294),r=t(90948),c=t(87357),s=t(87952),l=t(15861),a=t(86886),d=t(66242),h=t(78445),u=t(67720),x=t(44267),p=t(50135),m=t(5306),j=t(83321),g=t(1902),Z=(t(15063),t(77058)),v=t(66982),f=t.n(v),_=t(22004),w=t(81659),b=t(32512),P=t(78039),R=t(83419),y=t(17176);function k(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function C(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},i=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),i.forEach((function(e){k(n,e,t[e])}))}return n}var O=(0,r.ZP)(c.Z)((function(n){var e=n.theme;return"\n      border-radius: ".concat(e.general.borderRadius,";\n      padding: ").concat(e.spacing(2),";\n      background: ").concat(e.colors.alpha.black[5],";\n      border: 1px dashed ").concat(e.colors.alpha.black[30],";\n      outline: none;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: center;\n      transition: ").concat(e.transitions.create(["border","background"]),";\n  \n      &:hover {\n        background: ").concat(e.colors.alpha.white[50],";\n        border-color: ").concat(e.colors.primary.main,";\n      }\n  ")})),I=(0,r.ZP)(s.Z)((function(n){var e=n.theme;return"\n      background: transparent;\n      color: ".concat(e.colors.primary.main,";\n      width: ").concat(e.spacing(7),";\n      height: ").concat(e.spacing(7),";\n  ")})),D=(0,r.ZP)(s.Z)((function(n){var e=n.theme;return"\n      background: ".concat(e.colors.success.light,";\n      width: ").concat(e.spacing(7),";\n      height: ").concat(e.spacing(7),";\n  ")})),E=(0,r.ZP)(s.Z)((function(n){var e=n.theme;return"\n      background: ".concat(e.colors.error.light,";\n      width: ").concat(e.spacing(7),";\n      height: ").concat(e.spacing(7),";\n  ")}));function T(n){var e=(0,Z.$)().t,t=(0,b.uI)({accept:{"image/png":[".png"],"image/jpeg":[".jpg"]}}),o=t.isDragActive,r=t.isDragAccept,s=t.isDragReject,a=t.getRootProps,d=t.getInputProps;return(0,i.jsx)(c.Z,{p:2,children:(0,i.jsxs)(O,C({},a(),{children:[(0,i.jsx)("input",C({},d())),r&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(D,{variant:"rounded",children:(0,i.jsx)(y.Z,{})}),(0,i.jsx)(l.Z,{sx:{mt:2},children:e("Drop the files to start uploading")})]}),s&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(E,{variant:"rounded",children:(0,i.jsx)(R.Z,{})}),(0,i.jsx)(l.Z,{sx:{mt:2},children:e("You cannot upload these file types")})]}),!o&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(I,{variant:"rounded",children:(0,i.jsx)(P.Z,{})}),(0,i.jsx)(l.Z,{sx:{mt:2},children:e("Drag & drop files here")})]})]}))})}e.default=function(n){var e,t=n.photoRew,r=n.setData,s=n.companyId,v=n.allCars,b=n.allClients,P=n.allContracts,R=(0,Z.$)().t,y=(0,o.useRef)(null),k=function(n){g.Z.storage().ref("".concat(s,"/crm/photoRew/").concat(n.name)).put(n).on("state_changed",(function(n){Math.round(n.bytesTransferred/n.totalBytes*100)}),(function(n){console.log(n)}),(function(){g.Z.storage().ref("".concat(s,"/crm/photoRew/")).child(n.name).getDownloadURL().then((function(n){!function(n){r(C({},t,{photoRew_video:n}))}(n)}))}))};return(0,i.jsxs)(a.ZP,{container:!0,spacing:3,children:[(0,i.jsx)(a.ZP,{item:!0,xs:6,md:6,children:(0,i.jsxs)(d.Z,{children:[(0,i.jsx)(h.Z,{title:R("photoRew_client_cintract_title")}),(0,i.jsx)(u.Z,{}),(0,i.jsx)(x.Z,{children:(0,i.jsx)(a.ZP,{item:!0,xs:12,children:(0,i.jsxs)(a.ZP,{container:!0,spacing:2,alignItems:"center",children:[(0,i.jsx)(a.ZP,{item:!0,xs:12,sm:3,lg:4,sx:{pt:{xs:2,sm:"0 !important"}},children:(0,i.jsx)(c.Z,{pb:1,children:(0,i.jsxs)("b",{children:[R("photoRew_data"),":"]})})}),(0,i.jsx)(a.ZP,{item:!0,xs:12,sm:9,lg:6,children:(0,i.jsx)(w.x,{value:(null===t||void 0===t?void 0:t.photoRew_data)||"",onChange:function(n){r(C({},t,{photoRew_data:n}))},renderInput:function(n){return(0,i.jsx)(p.Z,C({fullWidth:!0,placeholder:R("select_date")},n))}})}),(0,i.jsx)(a.ZP,{item:!0,xs:12,sm:3,lg:4,sx:{pt:{xs:2,sm:"0 !important"}},children:(0,i.jsx)(c.Z,{pb:1,children:(0,i.jsxs)("b",{children:[R("photoRew_client"),":"]})})}),(0,i.jsx)(a.ZP,{item:!0,xs:12,sm:9,lg:6,children:(0,i.jsx)(m.Z,{sx:{m:0},limitTags:1,options:b,value:null===t||void 0===t?void 0:t.photoRew_client,defaultValue:null===t||void 0===t?void 0:t.photoRew_client,getOptionLabel:function(n){return"".concat(n.client_surname," ").concat(n.client_name)},onChange:function(n,e){r(C({},t,{photoRew_client:"".concat(null===e||void 0===e?void 0:e.client_surname," ").concat(null===e||void 0===e?void 0:e.client_name),photoRew_client_id:null===e||void 0===e?void 0:e.id}))},renderInput:function(n){return(0,i.jsx)(p.Z,C({},n,{fullWidth:!0,variant:"outlined",placeholder:R("photoRew_client")}))}})}),(0,i.jsx)(a.ZP,{item:!0,xs:12,sm:3,lg:4,sx:{pt:{xs:2,sm:"0 !important"}},children:(0,i.jsx)(c.Z,{pb:1,children:(0,i.jsxs)("b",{children:[R("photoRew_contract"),":"]})})}),(0,i.jsx)(a.ZP,{item:!0,xs:12,sm:9,lg:6,children:(0,i.jsx)(m.Z,{sx:{m:0},limitTags:1,options:P,value:null===t||void 0===t?void 0:t.photoRew_contract,getOptionLabel:function(n){return n.contract_number},onChange:function(n,e){r(C({},t,{photoRew_contract:null===e||void 0===e?void 0:e.contract_number,photoRew_contract_id:null===e||void 0===e?void 0:e.id}))},renderInput:function(n){return(0,i.jsx)(p.Z,C({},n,{fullWidth:!0,variant:"outlined",placeholder:R("photoRew_contract")}))}})})]})})})]})}),(0,i.jsx)(a.ZP,{item:!0,xs:6,md:6,children:(0,i.jsxs)(d.Z,{children:[(0,i.jsx)(h.Z,{title:R("photoRew_car")}),(0,i.jsx)(u.Z,{}),(0,i.jsx)(x.Z,{children:(0,i.jsx)(a.ZP,{item:!0,xs:12,children:(0,i.jsxs)(a.ZP,{container:!0,spacing:2,alignItems:"center",children:[(0,i.jsx)(a.ZP,{item:!0,xs:12,sm:3,lg:4,sx:{pt:{xs:2,sm:"0 !important"}},children:(0,i.jsx)(c.Z,{pb:1,children:(0,i.jsxs)("b",{children:[R("photoRew_car"),":"]})})}),(0,i.jsx)(a.ZP,{item:!0,xs:12,sm:9,lg:6,children:(0,i.jsx)(m.Z,{sx:{m:0},limitTags:1,options:v,value:null===t||void 0===t?void 0:t.photoRew_car,getOptionLabel:function(n){return n.car_model},onChange:function(n,e){r(C({},t,{photoRew_car:null===e||void 0===e?void 0:e.car_model,photoRew_car_id:null===e||void 0===e?void 0:e.id}))},renderInput:function(n){return(0,i.jsx)(p.Z,C({},n,{fullWidth:!0,variant:"outlined",placeholder:R("photoRew_car")}))}})}),(0,i.jsx)(a.ZP,{item:!0,xs:12,sm:3,lg:4,sx:{pt:{xs:2,sm:"0 !important"}},children:(0,i.jsx)(c.Z,{pb:1,children:(0,i.jsxs)("b",{children:[R("photoRew_mileage"),":"]})})}),(0,i.jsx)(a.ZP,{item:!0,xs:12,sm:9,lg:6,children:(0,i.jsx)(p.Z,{value:(null===t||void 0===t?void 0:t.photoRew_mileage)||"",onChange:function(n){r(C({},t,{photoRew_mileage:n.target.value}))},fullWidth:!0,variant:"outlined"})})]})})})]})}),(0,i.jsx)(a.ZP,{item:!0,md:12,alignItems:"center",direction:"row",children:(0,i.jsx)(a.ZP,{item:!0,md:12,children:(0,i.jsxs)(d.Z,{children:[(0,i.jsx)(h.Z,{title:R("photoRew_images")}),(0,i.jsx)(u.Z,{}),(0,i.jsxs)(x.Z,{children:[(0,i.jsx)(T,{}),(0,i.jsx)(f(),{items:null!==(e=null===t||void 0===t?void 0:t.photoRew_images)&&void 0!==e?e:[],showPlayButton:!1})]})]})})}),(0,i.jsx)(a.ZP,{item:!0,md:12,children:(0,i.jsxs)(a.ZP,{container:!0,spacing:2,children:[(0,i.jsx)(a.ZP,{item:!0,md:6,children:(0,i.jsxs)(d.Z,{children:[(0,i.jsx)(h.Z,{title:R("photoRew_video")}),(0,i.jsx)(u.Z,{}),(0,i.jsx)(x.Z,{children:(0,i.jsx)(a.ZP,{container:!0,spacing:3,children:(0,i.jsx)(a.ZP,{item:!0,xs:12,children:(0,i.jsxs)(a.ZP,{container:!0,alignItems:"center",spacing:2,style:{marginBottom:50},children:[(0,i.jsx)(a.ZP,{item:!0,xs:12,sm:4,children:(0,i.jsx)(l.Z,{variant:"subtitle1",children:R("photoRew_video")})}),(0,i.jsxs)(a.ZP,{item:!0,xs:12,sm:8,style:{marginTop:50},children:[(0,i.jsx)("div",{style:{width:"100%",height:"100%"},onClick:function(){y.current.click()},children:(0,i.jsx)(j.Z,{onChange:function(n){return k(n.target[0])},variant:"contained",color:"primary",children:R("download")})}),(0,i.jsx)("input",{type:"file",onChange:function(n){return k(n.target.files[0])},style:{width:.1,height:.1,opacity:0,pointerEvents:"none"},ref:y})]})]})})})})]})}),(0,i.jsx)(a.ZP,{item:!0,md:6,children:(0,i.jsxs)(d.Z,{children:[(0,i.jsx)(h.Z,{title:R("photoRew_video")}),(0,i.jsx)(u.Z,{}),(0,i.jsx)(x.Z,{children:(0,i.jsx)(_.Z,{url:null===t||void 0===t?void 0:t.photoRew_video,controls:!0})})]})})]})})]})}}},function(n){n.O(0,[9990,5360,6827,3970,5464,6668,2945,1849,8991,3274,5974,5063,7104,5350,5306,2512,1659,4291,6558,9774,2888,179],(function(){return e=94229,n(n.s=e);var e}));var e=n.O();_N_E=e}]);