(self.webpackChunk_N_E = self.webpackChunk_N_E || []).push([[1853], { 48384: function (e, n, r) { (window.__NEXT_P = window.__NEXT_P || []).push(["/dashboards/general/components/RentAndBooked", function () { return r(92466) }]) }, 92466: function (e, n, r) { "use strict"; r.r(n); var t = r(85893), o = r(67294), l = r(90948), c = r(37023), a = r(15861), i = r(87357), s = r(40044), u = r(66242), d = r(50135), f = r(87109), h = r(67720), v = r(72882), p = r(7906), m = r(53184), x = r(53816), j = r(53252), g = r(295), b = r(21023), y = r(93946), Z = r(47171), _ = r(68586), w = r(77058), O = r(99586), k = r(80100), P = r(42701); function S(e, n, r) { return n in e ? Object.defineProperty(e, n, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[n] = r, e } function N(e) { for (var n = 1; n < arguments.length; n++) { var r = null != arguments[n] ? arguments[n] : {}, t = Object.keys(r); "function" === typeof Object.getOwnPropertySymbols && (t = t.concat(Object.getOwnPropertySymbols(r).filter((function (e) { return Object.getOwnPropertyDescriptor(r, e).enumerable })))), t.forEach((function (n) { S(e, n, r[n]) })) } return e } var C = (0, l.ZP)(c.Z)((function (e) { var n = e.theme; return "\n    @media (max-width: ".concat(n.breakpoints.values.md, "px) {\n      .MuiTabs-scrollableX {\n        overflow-x: auto !important;\n      }\n\n      .MuiTabs-indicator {\n          box-shadow: none;\n      }\n    }\n    ") })), E = function (e, n, r, o, l) { var c = { Available: { text: n, color: "success" }, Inservice: { text: r, color: "error" }, Booked: { text: o, color: "info" }, InRent: { text: l, color: "warning" } }[e], a = c.text, i = c.color; return (0, t.jsx)(k.Z, { color: i, children: a }) }; n.default = function (e) { var n = e.cars, r = e.fleets, l = e.title, c = (0, o.useState)([]), k = c[0], S = c[1], I = (0, w.$)().t, R = (0, o.useState)(0), A = R[0], T = R[1], D = (0, o.useState)(5), F = D[0], L = D[1], M = (0, o.useState)(""), B = M[0], W = M[1], z = (0, o.useState)({ id: null }), X = z[0], G = z[1]; (0, o.useEffect)((function () { r && G((function (e) { var n; return N({}, e, { id: null === (n = r[0]) || void 0 === n ? void 0 : n.id }) })) }), [r]); var H = function (e, n, r) { return null === e || void 0 === e ? void 0 : e.filter((function (e) { var t = !0; if (n) { var o = !1;["car_model_full", "car_\u0441ategory", "car_owner", "car_vin", "car_status"].forEach((function (r) { var t; (null === (t = e[r]) || void 0 === t ? void 0 : t.toLowerCase().includes(n.toLowerCase())) && (o = !0) })), e.car_fleet_id !== r.id && (t = !1), o || (t = !1) } return Object.keys(r).forEach((function (n) { r[n] !== e.car_fleet_id && (t = !1) })), t })) }(n, B, X), V = function (e, n, r) { return null === e || void 0 === e ? void 0 : e.slice(n * r, n * r + r) }(H, A, F); return (0, t.jsxs)(t.Fragment, { children: [(0, t.jsx)(a.Z, { variant: "h3", children: I(l) }), (0, t.jsx)(i.Z, { display: "flex", alignItems: "center", flexDirection: { xs: "column", sm: "row" }, justifyContent: { xs: "center", sm: "space-between" }, pb: 3, pt: 2, children: (0, t.jsx)(C, { onChange: function (e, n) { var r; r = n, G((function (e) { return N({}, e, { id: r }) })), S([]) }, scrollButtons: "auto", textColor: "secondary", value: X.id, variant: "scrollable", children: null === r || void 0 === r ? void 0 : r.map((function (e) { return (0, t.jsx)(s.Z, { value: e.id, label: e.fleet_title }, e.id) })) }) }), (0, t.jsxs)(u.Z, { children: [(0, t.jsx)(i.Z, { children: (0, t.jsx)(d.Z, { sx: { m: 0 }, InputProps: { startAdornment: (0, t.jsx)(f.Z, { position: "start", children: (0, t.jsx)(P.Z, {}) }) }, onChange: function (e) { e.persist(), W(e.target.value) }, placeholder: I("placeholderSearch"), value: B, size: "small", fullWidth: !0, margin: "normal", variant: "outlined" }) }), (0, t.jsx)(h.Z, {}), 0 === (null === V || void 0 === V ? void 0 : V.length) ? (0, t.jsx)(t.Fragment, { children: (0, t.jsx)(a.Z, { sx: { py: 10 }, variant: "h3", fontWeight: "normal", color: "text.secondary", align: "center", children: I("placeholderSearchNotFound") }) }) : (0, t.jsxs)(t.Fragment, { children: [(0, t.jsx)(v.Z, { children: (0, t.jsxs)(p.Z, { children: [(0, t.jsx)(m.Z, { children: (0, t.jsxs)(x.Z, { children: [(0, t.jsxs)(j.Z, { children: [I("car_model_full"), " / ", I("car_license_plate")] }), (0, t.jsx)(j.Z, { children: I("lease\u0421ontract_client") }), (0, t.jsx)(j.Z, { align: "center", children: I("lease\u0421ontract_client_phone") }), (0, t.jsx)(j.Z, { children: I("lease\u0421ontract_term") }), (0, t.jsx)(j.Z, { children: I("lease\u0421ontract_return_date") }), (0, t.jsx)(j.Z, { children: I("lease\u0421ontract_return_time") }), (0, t.jsx)(j.Z, { children: I("lease\u0421ontract_return_balance") }), (0, t.jsx)(j.Z, { children: I("lease\u0421ontract_return_comment") }), (0, t.jsx)(j.Z, { children: I("lease\u0421ontract_car_status") }), (0, t.jsx)(j.Z, { align: "center", children: I("Actions") })] }) }), (0, t.jsx)(g.Z, { children: null === V || void 0 === V ? void 0 : V.map((function (e) { var n = k.includes(null === e || void 0 === e ? void 0 : e.id); return (0, t.jsxs)(x.Z, { hover: !0, selected: n, children: [(0, t.jsx)(j.Z, { children: (0, t.jsx)(i.Z, { display: "flex", alignItems: "center", children: (0, t.jsxs)(i.Z, { children: [(0, t.jsx)(_.C, { variant: "h5", href: "/cars/profile/" + (null === e || void 0 === e ? void 0 : e.id), children: null === e || void 0 === e ? void 0 : e.contract_avto_Model }), (0, t.jsx)(a.Z, { noWrap: !0, variant: "subtitle2", children: null === e || void 0 === e ? void 0 : e.AutoGosNum })] }) }) }), (0, t.jsx)(j.Z, { children: (0, t.jsx)(a.Z, { children: null === e || void 0 === e ? void 0 : e.contract_client_value }) }), (0, t.jsx)(j.Z, { align: "center", children: (0, t.jsx)(a.Z, { children: null === e || void 0 === e ? void 0 : e.contract_client_phone }) }), (0, t.jsx)(j.Z, { children: (0, t.jsx)(a.Z, { children: null === e || void 0 === e ? void 0 : e.contract_term }) }), (0, t.jsx)(j.Z, { children: new Intl.DateTimeFormat({ day: "2-digit", month: "2-digit", year: "numeric" }).format(null === e || void 0 === e ? void 0 : e.contract_end_date) }), (0, t.jsx)(j.Z, { children: new Intl.DateTimeFormat("ru-Ru", { hour: "2-digit", minute: "2-digit" }).format(null === e || void 0 === e ? void 0 : e.contract_end_time) }), (0, t.jsx)(j.Z, { children: (0, t.jsx)(a.Z, { children: null === e || void 0 === e ? void 0 : e.contract_balance }) }), (0, t.jsx)(j.Z, { children: (0, t.jsx)(a.Z, { children: null === e || void 0 === e ? void 0 : e.contract_avto_comment }) }), (0, t.jsx)(j.Z, { children: E(null === e || void 0 === e ? void 0 : e.contract_status, I("Available"), I("Inservice"), I("Booked"), I("InRent")) }), (0, t.jsx)(j.Z, { align: "center", children: (0, t.jsx)(a.Z, { noWrap: !0, children: (0, t.jsx)(b.Z, { title: I("View"), arrow: !0, children: (0, t.jsx)(y.Z, { color: "primary", children: (0, t.jsx)(_.C, { href: "/cars/profile/" + (null === e || void 0 === e ? void 0 : e.id), children: (0, t.jsx)(O.Z, { fontSize: "small" }) }) }) }) }) })] }, null === e || void 0 === e ? void 0 : e.id) })) })] }) }), (0, t.jsx)(i.Z, { p: 2, children: (0, t.jsx)(Z.Z, { component: "div", count: null === H || void 0 === H ? void 0 : H.length, onPageChange: function (e, n) { T(n) }, onRowsPerPageChange: function (e) { L(parseInt(e.target.value)) }, page: A, rowsPerPage: F, labelRowsPerPage: I("RowsPerPage"), rowsPerPageOptions: [5, 10, 20, 50] }) })] })] })] }) } }, 80100: function (e, n, r) { "use strict"; var t = r(85893), o = r(45697), l = r.n(o); function c(e, n, r) { return n in e ? Object.defineProperty(e, n, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[n] = r, e } function a(e, n) { if (null == e) return {}; var r, t, o = function (e, n) { if (null == e) return {}; var r, t, o = {}, l = Object.keys(e); for (t = 0; t < l.length; t++)r = l[t], n.indexOf(r) >= 0 || (o[r] = e[r]); return o }(e, n); if (Object.getOwnPropertySymbols) { var l = Object.getOwnPropertySymbols(e); for (t = 0; t < l.length; t++)r = l[t], n.indexOf(r) >= 0 || Object.prototype.propertyIsEnumerable.call(e, r) && (o[r] = e[r]) } return o } var i = (0, r(90948).ZP)("span")((function (e) { var n = e.theme; return "\n      background-color: ".concat(n.colors.alpha.black[5], ";\n      padding: ").concat(n.spacing(.5, 1), ";\n      font-size: ").concat(n.typography.pxToRem(13), ";\n      border-radius: ").concat(n.general.borderRadius, ";\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      max-height: ").concat(n.spacing(3), ";\n      \n      &.MuiLabel {\n        &-primary {\n          background-color: ").concat(n.colors.primary.lighter, ";\n          color: ").concat(n.palette.primary.main, "\n        }\n\n        &-black {\n          background-color: ").concat(n.colors.alpha.black[100], ";\n          color: ").concat(n.colors.alpha.white[100], ";\n        }\n        \n        &-secondary {\n          background-color: ").concat(n.colors.secondary.lighter, ";\n          color: ").concat(n.palette.secondary.main, "\n        }\n        \n        &-success {\n          background-color: ").concat(n.colors.success.lighter, ";\n          color: ").concat(n.palette.success.main, "\n        }\n        \n        &-warning {\n          background-color: ").concat(n.colors.warning.lighter, ";\n          color: ").concat(n.palette.warning.main, "\n        }\n              \n        &-error {\n          background-color: ").concat(n.colors.error.lighter, ";\n          color: ").concat(n.palette.error.main, "\n        }\n        \n        &-info {\n          background-color: ").concat(n.colors.info.lighter, ";\n          color: ").concat(n.palette.info.main, "\n        }\n      }\n") })), s = function (e) { e.className; var n = e.color, r = void 0 === n ? "secondary" : n, o = e.children, l = a(e, ["className", "color", "children"]); return (0, t.jsx)(i, function (e) { for (var n = 1; n < arguments.length; n++) { var r = null != arguments[n] ? arguments[n] : {}, t = Object.keys(r); "function" === typeof Object.getOwnPropertySymbols && (t = t.concat(Object.getOwnPropertySymbols(r).filter((function (e) { return Object.getOwnPropertyDescriptor(r, e).enumerable })))), t.forEach((function (n) { c(e, n, r[n]) })) } return e }({ className: "MuiLabel-" + r }, l, { children: o })) }; s.propTypes = { children: l().node, className: l().string, color: l().oneOf(["primary", "black", "secondary", "error", "warning", "success", "info"]) }, n.Z = s }, 68586: function (e, n, r) { "use strict"; var t = r(85893), o = r(67294), l = r(86010), c = r(11163), a = r(41664), i = r.n(a), s = r(50122); function u(e, n, r) { return n in e ? Object.defineProperty(e, n, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[n] = r, e } function d(e) { for (var n = 1; n < arguments.length; n++) { var r = null != arguments[n] ? arguments[n] : {}, t = Object.keys(r); "function" === typeof Object.getOwnPropertySymbols && (t = t.concat(Object.getOwnPropertySymbols(r).filter((function (e) { return Object.getOwnPropertyDescriptor(r, e).enumerable })))), t.forEach((function (n) { u(e, n, r[n]) })) } return e } function f(e, n) { if (null == e) return {}; var r, t, o = function (e, n) { if (null == e) return {}; var r, t, o = {}, l = Object.keys(e); for (t = 0; t < l.length; t++)r = l[t], n.indexOf(r) >= 0 || (o[r] = e[r]); return o }(e, n); if (Object.getOwnPropertySymbols) { var l = Object.getOwnPropertySymbols(e); for (t = 0; t < l.length; t++)r = l[t], n.indexOf(r) >= 0 || Object.prototype.propertyIsEnumerable.call(e, r) && (o[r] = e[r]) } return o } var h = (0, r(90948).ZP)("a")({}), v = o.forwardRef((function (e, n) { var r = e.to, o = e.linkAs, l = e.replace, c = e.scroll, a = e.shallow, s = e.prefetch, u = e.locale, v = f(e, ["to", "linkAs", "replace", "scroll", "shallow", "prefetch", "locale"]); return (0, t.jsx)(i(), { href: r, prefetch: s, as: o, replace: l, scroll: c, shallow: a, passHref: !0, locale: u, children: (0, t.jsx)(h, d({ ref: n }, v)) }) })), p = o.forwardRef((function (e, n) { var r = e.activeClassName, o = void 0 === r ? "active" : r, a = e.as, i = e.className, p = e.href, m = e.linkAs, x = e.locale, j = e.noLinkStyle, g = e.prefetch, b = e.replace, y = (e.role, e.scroll), Z = e.shallow, _ = f(e, ["activeClassName", "as", "className", "href", "linkAs", "locale", "noLinkStyle", "prefetch", "replace", "role", "scroll", "shallow"]), w = (0, c.useRouter)(), O = "string" === typeof p ? p : p.pathname, k = (0, l.Z)(i, u({}, o, w.pathname === O && o)); if ("string" === typeof p && (0 === p.indexOf("http") || 0 === p.indexOf("mailto:"))) return j ? (0, t.jsx)(h, d({ className: k, href: p, ref: n }, _)) : (0, t.jsx)(s.Z, d({ className: k, href: p, ref: n }, _)); var P = { to: p, linkAs: m || a, replace: b, scroll: y, shallow: Z, prefetch: g, locale: x }; return j ? (0, t.jsx)(v, d({ className: k, ref: n }, P, _)) : (0, t.jsx)(s.Z, d({ component: v, className: k, ref: n }, P, _)) })); n.C = p } }, function (e) { e.O(0, [9990, 5360, 6827, 3970, 5464, 6668, 2945, 1849, 8630, 990, 3274, 2453, 7171, 6458, 9774, 2888, 179], (function () { return n = 48384, e(e.s = n); var n })); var n = e.O(); _N_E = n }]);