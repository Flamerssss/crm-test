(self.webpackChunk_N_E = self.webpackChunk_N_E || []).push([[4510, 1341], { 62469: function (n, e, t) { (window.__NEXT_P = window.__NEXT_P || []).push(["/maintenance/details/[maintenanceId]", function () { return t(27018) }]) }, 86786: function (n, e, t) { "use strict"; t.r(e), t.d(e, { default: function () { return A } }); var r = t(85893), i = t(67294), a = t(86886), c = t(87357), o = t(50135), u = t(83321), s = t(66242), l = t(78445), d = t(67720), p = t(44267), f = t(5306), m = t(18972), h = (t(15063), t(77058)), x = t(46747), v = t(64666), j = t(15861), y = t(72882), g = t(7906), Z = t(53184), _ = t(53816), b = t(53252), w = t(295), P = t(26447), k = t(75920), C = t(71341), S = t(97029); function O(n) { var e = n.open, t = n.onClose, o = n.onSelect, u = (0, h.$)().t, s = (0, k.a)().user, l = (0, i.useState)(null), d = l[0], p = l[1]; return (0, i.useEffect)((function () { (null === s || void 0 === s ? void 0 : s.company_id) && (0, C.qt)(null === s || void 0 === s ? void 0 : s.company_id).then(p) }), [s]), (0, r.jsx)(r.Fragment, { children: (0, r.jsx)(v.Z, { maxWidth: "xl", open: e, onClose: t, "aria-labelledby": "alert-dialog-title", "aria-describedby": "alert-dialog-description", sx: { p: 3 }, children: (0, r.jsx)(c.Z, { display: "flex", alignItems: "center", justifyContent: "center", flexDirection: "column", p: 5, children: (0, r.jsx)(a.ZP, { container: !0, spacing: 2, alignItems: "center", children: (0, r.jsxs)(a.ZP, { item: !0, xs: 12, sm: 12, lg: 12, sx: { pt: { xs: 2, sm: "0 !important" } }, children: [(0, r.jsx)(j.Z, { variant: "h4", children: u("maintenance_spare_parts_title") }), (0, r.jsx)(a.ZP, { children: (0, r.jsx)(y.Z, { children: (0, r.jsxs)(g.Z, { children: [(0, r.jsx)(Z.Z, { children: (0, r.jsxs)(_.Z, { children: [(0, r.jsx)(b.Z, { sx: { pl: 3 }, children: u("maintenance_spare_parts_title") }), (0, r.jsx)(b.Z, { children: u("maintenance_price_title") }), (0, r.jsx)(b.Z, { children: u("maintenance_comment") }), (0, r.jsx)(b.Z, { children: u("action") })] }) }), (0, r.jsx)(w.Z, { children: d && d.map((function (n, e) { return (0, r.jsxs)(_.Z, { hover: !0, onClick: function () { t(), o(n) }, children: [(0, r.jsx)(b.Z, { children: n.nomenclature_name }), (0, r.jsx)(b.Z, { children: n.nomenclature_price }), (0, r.jsx)(b.Z, { children: n.nomenclature_comment }), (0, r.jsx)(b.Z, { align: "left", sx: { pr: 3 }, children: (0, r.jsx)(P.Z, { direction: "row", justifyContent: "left", alignItems: "left", children: (0, r.jsx)(S.Z, { collection: "repairsSklad", document: null === n || void 0 === n ? void 0 : n.id }) }) })] }, e) })) })] }) }) })] }) }) }) }) }) } function I(n, e) { (null == e || e > n.length) && (e = n.length); for (var t = 0, r = new Array(e); t < e; t++)r[t] = n[t]; return r } function D(n, e, t) { return e in n ? Object.defineProperty(n, e, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : n[e] = t, n } function E(n) { for (var e = 1; e < arguments.length; e++) { var t = null != arguments[e] ? arguments[e] : {}, r = Object.keys(t); "function" === typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(t).filter((function (n) { return Object.getOwnPropertyDescriptor(t, n).enumerable })))), r.forEach((function (e) { D(n, e, t[e]) })) } return n } function T(n) { return function (n) { if (Array.isArray(n)) return I(n) }(n) || function (n) { if ("undefined" !== typeof Symbol && null != n[Symbol.iterator] || null != n["@@iterator"]) return Array.from(n) }(n) || function (n, e) { if (!n) return; if ("string" === typeof n) return I(n, e); var t = Object.prototype.toString.call(n).slice(8, -1); "Object" === t && n.constructor && (t = n.constructor.name); if ("Map" === t || "Set" === t) return Array.from(t); if ("Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)) return I(n, e) }(n) || function () { throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } var W = [{ value: "\u0420\u0435\u043c\u043e\u043d\u0442", label: "\u0420\u0435\u043c\u043e\u043d\u0442" }, { value: "\u0422\u041e", label: "\u0422\u041e" }, { value: "\u0414\u0422\u041f", label: "\u0414\u0422\u041f" }], L = [{ value: "\u041e\u043f\u043b\u0430\u0447\u0435\u043d\u043e", label: "\u041e\u043f\u043b\u0430\u0447\u0435\u043d\u043e" }, { value: "\u0412 \u0440\u0430\u0431\u043e\u0442\u0435", label: "\u0412 \u0440\u0430\u0431\u043e\u0442\u0435" }, { value: "\u0423\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0439", label: "\u0423\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0439" }]; function N(n) { var e = n.selectedRepair, t = n.setData, s = n.onDelete, l = (0, i.useState)(!1), d = l[0], p = l[1], f = (0, h.$)().t; return (0, r.jsxs)(a.ZP, { container: !0, spacing: 1, style: { marginTop: 15, marginLeft: 15 }, children: [(0, r.jsx)(O, { onSelect: function (n) { return t(n) }, open: d, onClose: function () { return p(!1) } }), (0, r.jsxs)(a.ZP, { item: !0, xs: 12, md: 6, children: [(0, r.jsx)(c.Z, { pb: 1, children: (0, r.jsx)("b", { children: f("maintenance_spare_part_title") }) }), (0, r.jsx)(a.ZP, { item: !0, xs: 12, md: 12, children: (0, r.jsx)(o.Z, { value: null === e || void 0 === e ? void 0 : e.nomenclature_name, onClick: function () { return p(!0) }, fullWidth: !0, variant: "outlined" }) })] }), (0, r.jsxs)(a.ZP, { item: !0, xs: 12, sm: 3, children: [(0, r.jsx)(c.Z, { pb: 1, children: (0, r.jsx)("b", { children: f("maintenance_price_title") }) }), (0, r.jsx)(o.Z, { value: (null === e || void 0 === e ? void 0 : e.nomenclature_price) || "", onChange: function (n) { return t(E({}, e, { nomenclature_price: n.target.value })) }, fullWidth: !0, variant: "outlined" })] }), (0, r.jsxs)(a.ZP, { item: !0, xs: 12, sm: 2, children: [(0, r.jsx)(c.Z, { pb: 1, children: (0, r.jsx)("b", { children: f("maintenance_count_title") }) }), (0, r.jsx)(o.Z, { type: "number", InputLabelProps: { shrink: !0 }, value: null === e || void 0 === e ? void 0 : e.nomenclature_count, onChange: function (n) { if (e && e.nomenclature_price) { var r = Number(n.target.value); console.log("got value", r, E({}, e, { nomenclature_count: r })), !r || r < 0 || t(E({}, e, { nomenclature_count: n.target.value, nomenclature_price: Number(e.nomenclature_price) * Number(r) })) } }, variant: "outlined", defaultValue: "1" })] }), (0, r.jsx)(a.ZP, { item: !0, xs: 1, md: 1, style: { marginTop: 34 }, children: (0, r.jsx)("div", { hidden: !s, children: (0, r.jsx)(u.Z, { onClick: s, variant: "contained", color: "error", children: f("Delete") }) }) })] }) } var A = function (n) { var e = n.initialData, t = n.setData, u = n.allCars, v = n.counterparties, j = n.carDamage, y = (0, h.$)().t, g = (0, i.useState)({})[0], Z = (0, i.useState)([]), _ = Z[0], b = Z[1], w = (0, i.useState)(!1), P = w[0], k = w[1]; return (0, r.jsxs)(a.ZP, { container: !0, spacing: 3, style: { marginTop: 20 }, children: [(0, r.jsx)(O, { onSelect: function (n) { return g(E({}, n)) }, open: P, onClose: function () { return k(!1) } }), (0, r.jsx)(a.ZP, { item: !0, xs: 12, lg: 6, children: (0, r.jsxs)(s.Z, { children: [(0, r.jsx)(l.Z, { title: y("maintenance_description_title") }), (0, r.jsx)(d.Z, {}), (0, r.jsx)(p.Z, { children: (0, r.jsxs)(a.ZP, { container: !0, spacing: 2, alignItems: "center", children: [(0, r.jsx)(a.ZP, { item: !0, xs: 12, md: 6, children: (0, r.jsx)(f.Z, { sx: { m: 0 }, limitTags: 1, options: u, value: null === e || void 0 === e ? void 0 : e.maintenance_car, getOptionLabel: function (n) { return n.car_model }, onChange: function (n, r) { t(E({}, e, { maintenance_car: null === r || void 0 === r ? void 0 : r.car_model, maintenance_car_id: null === r || void 0 === r ? void 0 : r.id })) }, renderInput: function (n) { return (0, r.jsx)(o.Z, E({}, n, { fullWidth: !0, variant: "outlined", placeholder: y("maintenance_car") })) } }) }), (0, r.jsx)(a.ZP, { item: !0, xs: 12, md: 6, children: (0, r.jsx)(a.ZP, { item: !0, xs: 12, md: 8, children: (0, r.jsxs)(a.ZP, { container: !0, spacing: 2, alignItems: "center", children: [(0, r.jsx)(a.ZP, { item: !0, xs: 12, md: 4, children: (0, r.jsx)(c.Z, { pb: 1, children: (0, r.jsx)("b", { children: y("maintenance_mileage") }) }) }), (0, r.jsx)(a.ZP, { item: !0, xs: 12, md: 8, children: (0, r.jsx)(o.Z, { value: (null === e || void 0 === e ? void 0 : e.maintenance_mileage) || "", onChange: function (n) { t(E({}, e, { maintenance_mileage: n.target.value })) }, fullWidth: !0, variant: "outlined" }) })] }) }) }), (0, r.jsx)(a.ZP, { item: !0, xs: 12, md: 6, children: (0, r.jsx)(x.M, { value: (null === e || void 0 === e ? void 0 : e.maintenance_data) || "", onChange: function (n) { t(E({}, e, { maintenance_data: n })) }, renderInput: function (n) { return (0, r.jsx)(o.Z, E({ fullWidth: !0, placeholder: y("select_date") }, n)) } }) }), (0, r.jsx)(a.ZP, { item: !0, xs: 12, md: 6, children: (0, r.jsx)(o.Z, { select: !0, fullWidth: !0, label: y("maintenance_job_type"), value: (null === e || void 0 === e ? void 0 : e.maintenance_job_type) || "", onChange: function (n) { t(E({}, e, { maintenance_job_type: n.target.value })) }, variant: "outlined", children: W.map((function (n) { return (0, r.jsx)(m.Z, { value: n.value, children: n.label }, n.value) })) }) }), (0, r.jsx)(a.ZP, { item: !0, xs: 12, md: 6, children: (0, r.jsx)(f.Z, { sx: { m: 0 }, limitTags: 1, options: v, value: null === e || void 0 === e ? void 0 : e.maintenance_provider, getOptionLabel: function (n) { return n.counterparties_company }, onChange: function (n, r) { t(E({}, e, { maintenance_provider: null === r || void 0 === r ? void 0 : r.counterparties_company, maintenance_provider_id: null === r || void 0 === r ? void 0 : r.id })) }, renderInput: function (n) { return (0, r.jsx)(o.Z, E({}, n, { fullWidth: !0, variant: "outlined", placeholder: y("maintenance_car") })) } }) }), (0, r.jsx)(a.ZP, { item: !0, xs: 12, md: 6, children: (0, r.jsx)(o.Z, { select: !0, fullWidth: !0, label: y("maintenance_status"), value: (null === e || void 0 === e ? void 0 : e.maintenance_status) || "", onChange: function (n) { t(E({}, e, { maintenance_status: n.target.value })) }, variant: "outlined", children: L.map((function (n) { return (0, r.jsx)(m.Z, { value: n.value, children: n.label }, n.value) })) }) }), (0, r.jsx)(a.ZP, { item: !0, xs: 12, md: 6, children: (0, r.jsx)(o.Z, { select: !0, fullWidth: !0, label: y("maintenance_damage_type"), value: (null === e || void 0 === e ? void 0 : e.maintenance_damage_type) || "", onChange: function (n) { var r = j.findIndex((function (e) { return e.id === n.target.value })); t(E({}, e, { maintenance_damage_type: j[r].damage_type, maintenance_damage_areaId: j[r].areaId, maintenance_damage_part_id: n.target.value })) }, variant: "outlined", children: null === j || void 0 === j ? void 0 : j.map((function (n) { return (0, r.jsx)(m.Z, { value: n.id, children: n.damage_type }, n.id) })) }) })] }) })] }) }), (0, r.jsx)(a.ZP, { item: !0, xs: 12, md: 6, children: (0, r.jsxs)(s.Z, { children: [(0, r.jsx)(l.Z, { title: y("maintenance_description_title") }), (0, r.jsx)(d.Z, {}), (0, r.jsx)(p.Z, { children: (0, r.jsx)(a.ZP, { container: !0, spacing: 3, children: (0, r.jsx)(a.ZP, { item: !0, xs: 12, md: 8, children: (0, r.jsxs)(a.ZP, { container: !0, spacing: 2, alignItems: "center", children: [_.map((function (n, e) { return (0, r.jsx)(N, { selectedRepair: n, setData: function (n) { console.log("part", n), _[e] = n, b(T(_)) }, onDelete: function () { var n = [].concat(_); n.splice(e, 1), b(n) } }, e) })), (0, r.jsx)(N, { setData: function (n) { var e = [].concat(_); e.push(E({}, n, { nomenclature_count: 1 })), b(e) } }), (0, r.jsx)(a.ZP, { item: !0, xs: 12, md: 6, children: (0, r.jsxs)(c.Z, { pb: 1, children: [(0, r.jsx)("b", { children: y("maintenance_job_and_price") }), " :"] }) }), (0, r.jsx)(a.ZP, { item: !0, xs: 12, md: 6, children: (0, r.jsx)(o.Z, { multiline: !0, rows: 5, value: (null === e || void 0 === e ? void 0 : e.maintenance_job_and_price) || "", onChange: function (n) { t(E({}, e, { maintenance_job_and_price: n.target.value })) }, fullWidth: !0, variant: "outlined" }) }), (0, r.jsx)(a.ZP, { item: !0, xs: 12, md: 6, children: (0, r.jsxs)(c.Z, { pb: 1, children: [(0, r.jsx)("b", { children: y("maintenance_result_diagnistic") }), " :"] }) }), (0, r.jsx)(a.ZP, { item: !0, xs: 12, md: 6, children: (0, r.jsx)(o.Z, { multiline: !0, rows: 5, value: (null === e || void 0 === e ? void 0 : e.maintenance_result_diagnistic) || "", onChange: function (n) { t(E({}, e, { maintenance_result_diagnistic: n.target.value })) }, fullWidth: !0, variant: "outlined" }) }), (0, r.jsx)(a.ZP, { item: !0, xs: 12, md: 6, children: (0, r.jsxs)(c.Z, { pb: 1, children: [(0, r.jsx)("b", { children: y("maintenance_repairs_price") }), " :"] }) }), (0, r.jsx)(a.ZP, { item: !0, xs: 12, md: 6, children: (0, r.jsx)(o.Z, { value: (null === e || void 0 === e ? void 0 : e.maintenance_repairs_price) || "", onChange: function (n) { t(E({}, e, { maintenance_repairs_price: n.target.value })) }, fullWidth: !0, variant: "outlined" }) }), (0, r.jsx)(a.ZP, { item: !0, xs: 12, md: 6, children: (0, r.jsxs)(c.Z, { pb: 1, children: [(0, r.jsx)("b", { children: y("maintenance_job_price") }), " :"] }) }), (0, r.jsx)(a.ZP, { item: !0, xs: 12, md: 6, children: (0, r.jsx)(o.Z, { value: (null === e || void 0 === e ? void 0 : e.maintenance_job_price) || "", onChange: function (n) { t(E({}, e, { maintenance_job_price: n.target.value })) }, fullWidth: !0, variant: "outlined" }) })] }) }) }) })] }) })] }) } }, 27018: function (n, e, t) { "use strict"; t.r(e); var r = t(85893), i = t(67294), a = t(9008), c = t.n(a), o = t(30985), u = t(50542), s = t(46225), l = t(87357), d = t(86886), p = t(15861), f = t(83321), m = t(77058), h = t(68852), x = t(68586), v = t(75920), j = t(71341), y = t(80332), g = t(86786); function Z(n, e, t) { return e in n ? Object.defineProperty(n, e, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : n[e] = t, n } function _() { var n = window.location.pathname.replace("/maintenance/details/", ""), e = "/maintenance", t = (0, m.$)().t, a = (0, v.a)().user, o = (0, i.useState)(null), u = o[0], _ = o[1], b = (0, i.useState)(null), w = b[0], P = b[1], k = (0, i.useState)(null), C = k[0], S = k[1], O = (0, i.useState)(null), I = O[0], D = O[1]; (0, i.useEffect)((function () { (null === a || void 0 === a ? void 0 : a.company_id) && ((0, j.t)("maintenance", null === a || void 0 === a ? void 0 : a.company_id, "id", n).then(_), (0, j.xF)(null === a || void 0 === a ? void 0 : a.company_id).then(P), (0, j.Fo)(null === a || void 0 === a ? void 0 : a.company_id).then(S)) }), [a]); var E = function (n) { for (var e = 1; e < arguments.length; e++) { var t = null != arguments[e] ? arguments[e] : {}, r = Object.keys(t); "function" === typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(t).filter((function (n) { return Object.getOwnPropertyDescriptor(t, n).enumerable })))), r.forEach((function (e) { Z(n, e, t[e]) })) } return n }({}, Object.assign({}, u)[0]); (0, i.useEffect)((function () { (null === E || void 0 === E ? void 0 : E.maintenance_car_id) && (0, j.t)("carDamages", null === a || void 0 === a ? void 0 : a.company_id, "car_id", null === E || void 0 === E ? void 0 : E.maintenance_car_id).then(D) }), [null === E || void 0 === E ? void 0 : E.maintenance_car_id]); var T = (0, i.useState)(null), W = T[0], L = T[1]; return (0, i.useEffect)((function () { (null === E || void 0 === E ? void 0 : E.id) && L(E) }), [null === E || void 0 === E ? void 0 : E.id]), (0, r.jsxs)(r.Fragment, { children: [(0, r.jsx)(l.Z, { display: "flex", style: { marginTop: 30, marginRight: 50 }, children: (0, r.jsxs)(d.ZP, { container: !0, justifyContent: "space-between", alignItems: "center", children: [(0, r.jsx)(d.ZP, { item: !0, children: (0, r.jsx)(l.Z, { style: { marginLeft: 30, marginTop: 5 }, children: (0, r.jsxs)(p.Z, { variant: "h3", component: "h3", gutterBottom: !0, children: [t("maintenance_title"), " ", new Intl.DateTimeFormat("ru-Ru", { year: "numeric", month: "2-digit", day: "2-digit", hour: "2-digit", minute: "2-digit" }).format(null === W || void 0 === W ? void 0 : W.photoRew_data)] }) }) }), (0, r.jsxs)(d.ZP, { item: !0, children: [(0, r.jsx)(f.Z, { sx: { mt: { xs: 2, sm: 0 } }, component: x.C, startIcon: (0, r.jsx)(h.Z, {}), href: e, variant: "text", children: t("Back") }), (0, r.jsx)(f.Z, { sx: { mt: { xs: 2, sm: 0 } }, component: x.C, startIcon: (0, r.jsx)(y.Z, {}), href: e, variant: "contained", style: { marginLeft: 30 }, children: t("Save") })] })] }) }), (0, r.jsx)(c(), { children: (0, r.jsxs)("title", { children: [t("photoRew_title"), " - ", t("Details")] }) }), (0, r.jsx)(l.Z, { sx: { mt: 3 }, children: (0, r.jsx)(d.ZP, { sx: { px: 4 }, container: !0, direction: "row", justifyContent: "center", alignItems: "stretch", spacing: 3, children: (0, r.jsx)(d.ZP, { item: !0, xs: 12, md: 12, children: (0, r.jsx)(g.default, { initialData: W, setData: function (n) { L(n) }, allCars: w, counterparties: C, carDamage: I || [] }) }) }) }), (0, r.jsx)(s.Z, {})] }) } _.getLayout = function (n) { return (0, r.jsx)(u._, { children: (0, r.jsx)(o.Z, { children: n }) }) }, e.default = _ }, 46225: function (n, e, t) { "use strict"; var r = t(85893), i = t(90948), a = t(66242), c = t(87357), o = t(15861), u = t(68586), s = (0, i.ZP)(a.Z)((function (n) { var e = n.theme; return "\n        border-radius: 0;\n        margin-top: ".concat(e.spacing(4), ";\n") })); e.Z = function () { return (0, r.jsx)(s, { className: "footer-wrapper", children: (0, r.jsxs)(c.Z, { p: 4, display: { xs: "block", md: "flex" }, alignItems: "center", textAlign: { xs: "center", md: "left" }, justifyContent: "space-between", children: [(0, r.jsx)(c.Z, { children: (0, r.jsx)(o.Z, { variant: "subtitle1", children: "\xa9 2022 - CarCense - Car rental management system" }) }), (0, r.jsxs)(o.Z, { sx: { pt: { xs: 2, md: 0 } }, variant: "subtitle1", children: ["Crafted by", " ", (0, r.jsx)(u.C, { href: "https://car-sense.io", target: "_blank", rel: "noopener noreferrer", children: "Car-Sense.io" })] })] }) }) } }, 71341: function (n, e, t) { "use strict"; t.d(e, { Ac: function () { return F }, Cq: function () { return N }, Dh: function () { return an }, Fo: function () { return Q }, HL: function () { return tn }, KN: function () { return R }, LB: function () { return j }, LI: function () { return z }, Lo: function () { return E }, Mx: function () { return H }, Pb: function () { return I }, Tf: function () { return X }, Ux: function () { return $ }, ew: function () { return _ }, gq: function () { return W }, iS: function () { return w }, km: function () { return k }, lM: function () { return on }, nD: function () { return p }, qJ: function () { return x }, qt: function () { return nn }, sN: function () { return K }, t: function () { return l }, xF: function () { return g }, xg: function () { return m }, yG: function () { return S } }); var r = t(34051), i = t.n(r), a = t(1902); t(96621); function c(n, e, t, r, i, a, c) { try { var o = n[a](c), u = o.value } catch (s) { return void t(s) } o.done ? e(u) : Promise.resolve(u).then(r, i) } function o(n) { return function () { var e = this, t = arguments; return new Promise((function (r, i) { var a = n.apply(e, t); function o(n) { c(a, r, i, o, u, "next", n) } function u(n) { c(a, r, i, o, u, "throw", n) } o(void 0) })) } } function u(n, e, t) { return e in n ? Object.defineProperty(n, e, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : n[e] = t, n } function s(n) { for (var e = 1; e < arguments.length; e++) { var t = null != arguments[e] ? arguments[e] : {}, r = Object.keys(t); "function" === typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(t).filter((function (n) { return Object.getOwnPropertyDescriptor(t, n).enumerable })))), r.forEach((function (e) { u(n, e, t[e]) })) } return n } function l(n, e, t, r) { return d.apply(this, arguments) } function d() { return (d = o(i().mark((function n(e, t, r, c) { var o, u; return i().wrap((function (n) { for (; ;)switch (n.prev = n.next) { case 0: return n.next = 2, a.Z.firestore().collection(t).doc("company").collection(e).where(r, "==", c).get(); case 2: return o = n.sent, u = o.docs.map((function (n) { return s({}, n.data()) })), n.abrupt("return", u); case 5: case "end": return n.stop() } }), n) })))).apply(this, arguments) } function p(n) { return f.apply(this, arguments) } function f() { return (f = o(i().mark((function n(e) { var t, r; return i().wrap((function (n) { for (; ;)switch (n.prev = n.next) { case 0: return n.next = 2, a.Z.firestore().collection(e).doc("company").collection("contracts").orderBy("contract_number", "desc").get(); case 2: return t = n.sent, r = t.docs.map((function (n) { return s({}, n.data()) })), n.abrupt("return", r); case 5: case "end": return n.stop() } }), n) })))).apply(this, arguments) } function m(n) { return h.apply(this, arguments) } function h() { return (h = o(i().mark((function n(e) { var t, r; return i().wrap((function (n) { for (; ;)switch (n.prev = n.next) { case 0: return n.next = 2, a.Z.firestore().collection(e).doc("company").collection("cars").where("car_status", "==", "Available").get(); case 2: return t = n.sent, r = t.docs.map((function (n) { return s({}, n.data()) })), n.abrupt("return", r); case 5: case "end": return n.stop() } }), n) })))).apply(this, arguments) } function x(n) { return v.apply(this, arguments) } function v() { return (v = o(i().mark((function n(e) { var t, r; return i().wrap((function (n) { for (; ;)switch (n.prev = n.next) { case 0: return n.next = 2, a.Z.firestore().collection(e).doc("company").collection("contracts").where("contract_status", "==", "InRent").get(); case 2: return t = n.sent, r = t.docs.map((function (n) { return s({}, n.data()) })), n.abrupt("return", r); case 5: case "end": return n.stop() } }), n) })))).apply(this, arguments) } function j(n) { return y.apply(this, arguments) } function y() { return (y = o(i().mark((function n(e) { var t, r; return i().wrap((function (n) { for (; ;)switch (n.prev = n.next) { case 0: return n.next = 2, a.Z.firestore().collection(e).doc("company").collection("contracts").where("contract_status", "==", "Booked").get(); case 2: return t = n.sent, r = t.docs.map((function (n) { return s({}, n.data()) })), n.abrupt("return", r); case 5: case "end": return n.stop() } }), n) })))).apply(this, arguments) } function g(n) { return Z.apply(this, arguments) } function Z() { return (Z = o(i().mark((function n(e) { var t, r; return i().wrap((function (n) { for (; ;)switch (n.prev = n.next) { case 0: return n.next = 2, a.Z.firestore().collection(e).doc("company").collection("cars").orderBy("car_code", "asc").get(); case 2: return t = n.sent, r = t.docs.map((function (n) { return s({}, n.data()) })), n.abrupt("return", r); case 5: case "end": return n.stop() } }), n) })))).apply(this, arguments) } function _(n) { return b.apply(this, arguments) } function b() { return (b = o(i().mark((function n(e) { var t, r; return i().wrap((function (n) { for (; ;)switch (n.prev = n.next) { case 0: return n.next = 2, a.Z.firestore().collection(e).doc("company").collection("cars").where("car_status", "==", "Inservice").get(); case 2: return t = n.sent, r = t.docs.map((function (n) { return s({}, n.data()) })), n.abrupt("return", r); case 5: case "end": return n.stop() } }), n) })))).apply(this, arguments) } function w(n) { return P.apply(this, arguments) } function P() { return (P = o(i().mark((function n(e) { var t, r; return i().wrap((function (n) { for (; ;)switch (n.prev = n.next) { case 0: return n.next = 2, a.Z.firestore().collection(e).doc("company").collection("staff").get(); case 2: return t = n.sent, r = t.docs.map((function (n) { return s({}, n.data()) })), n.abrupt("return", r); case 5: case "end": return n.stop() } }), n) })))).apply(this, arguments) } function k(n) { return C.apply(this, arguments) } function C() { return (C = o(i().mark((function n(e) { var t, r; return i().wrap((function (n) { for (; ;)switch (n.prev = n.next) { case 0: return n.next = 2, a.Z.firestore().collection(e).doc("company").collection("tasks").get(); case 2: return t = n.sent, r = t.docs.map((function (n) { return s({}, n.data()) })), n.abrupt("return", r); case 5: case "end": return n.stop() } }), n) })))).apply(this, arguments) } function S(n) { return O.apply(this, arguments) } function O() { return (O = o(i().mark((function n(e) { var t, r; return i().wrap((function (n) { for (; ;)switch (n.prev = n.next) { case 0: return n.next = 2, a.Z.firestore().collection(e).doc("company").collection("fleets").orderBy("created_at", "asc").get(); case 2: return t = n.sent, r = t.docs.map((function (n) { return s({}, n.data()) })), n.abrupt("return", r); case 5: case "end": return n.stop() } }), n) })))).apply(this, arguments) } function I(n) { return D.apply(this, arguments) } function D() { return (D = o(i().mark((function n(e) { var t; return i().wrap((function (n) { for (; ;)switch (n.prev = n.next) { case 0: return t = a.Z.firestore().collection(e).doc("company").collection("tariff"), n.abrupt("return", t.get().then((function (n) { var e = []; return n.forEach((function (n) { e.push(s({}, n.data())) })), Promise.all(e).then((function (n) { return n.map((function (n) { return { id: n.id, tariff_name: n.tariff_name } })) })) }))); case 2: case "end": return n.stop() } }), n) })))).apply(this, arguments) } function E(n) { return T.apply(this, arguments) } function T() { return (T = o(i().mark((function n(e) { var t; return i().wrap((function (n) { for (; ;)switch (n.prev = n.next) { case 0: return t = a.Z.firestore().collection(e).doc("company").collection("carsCategory"), n.abrupt("return", t.get().then((function (n) { var e = []; return n.forEach((function (n) { e.push(s({}, n.data())) })), Promise.all(e).then((function (n) { return n.map((function (n) { return { id: n.id, name: n.name, created_at: n.created_at } })) })) }))); case 2: case "end": return n.stop() } }), n) })))).apply(this, arguments) } function W(n) { return L.apply(this, arguments) } function L() { return (L = o(i().mark((function n(e) { var t; return i().wrap((function (n) { for (; ;)switch (n.prev = n.next) { case 0: return t = a.Z.firestore().collection(e).doc("company").collection("carStatus"), n.abrupt("return", t.get().then((function (n) { var e = []; return n.forEach((function (n) { e.push(s({}, n.data())) })), Promise.all(e).then((function (n) { return n.map((function (n) { return { id: n.id, name: n.name } })) })) }))); case 2: case "end": return n.stop() } }), n) })))).apply(this, arguments) } function N(n) { return A.apply(this, arguments) } function A() { return (A = o(i().mark((function n(e) { var t; return i().wrap((function (n) { for (; ;)switch (n.prev = n.next) { case 0: return t = a.Z.firestore().collection(e).doc("company").collection("owners"), n.abrupt("return", t.get().then((function (n) { var e = []; return n.forEach((function (n) { e.push(s({}, n.data())) })), Promise.all(e).then((function (n) { return n.map((function (n) { return { id: n.id, owner_fullname: n.owner_fullname } })) })) }))); case 2: case "end": return n.stop() } }), n) })))).apply(this, arguments) } function R() { return B.apply(this, arguments) } function B() { return (B = o(i().mark((function n() { var e, t; return i().wrap((function (n) { for (; ;)switch (n.prev = n.next) { case 0: return n.next = 2, a.Z.firestore().collection(" car_brand").get(); case 2: return e = n.sent, t = e.docs.map((function (n) { return s({}, n.data()) })), n.abrupt("return", t); case 5: case "end": return n.stop() } }), n) })))).apply(this, arguments) } function F(n) { return q.apply(this, arguments) } function q() { return (q = o(i().mark((function n(e) { var t, r; return i().wrap((function (n) { for (; ;)switch (n.prev = n.next) { case 0: return n.next = 2, a.Z.firestore().collection(e).doc("company").collection("clients").get(); case 2: return t = n.sent, r = t.docs.map((function (n) { return s({}, n.data()) })), n.abrupt("return", r); case 5: case "end": return n.stop() } }), n) })))).apply(this, arguments) } function $(n) { return M.apply(this, arguments) } function M() { return (M = o(i().mark((function n(e) { var t, r; return i().wrap((function (n) { for (; ;)switch (n.prev = n.next) { case 0: return n.next = 2, a.Z.firestore().collection(e).doc("company").collection("ClientsStatusList").get(); case 2: return t = n.sent, r = t.docs.map((function (n) { return s({}, n.data()) })), n.abrupt("return", r); case 5: case "end": return n.stop() } }), n) })))).apply(this, arguments) } function z(n) { return U.apply(this, arguments) } function U() { return (U = o(i().mark((function n(e) { var t, r; return i().wrap((function (n) { for (; ;)switch (n.prev = n.next) { case 0: return n.next = 2, a.Z.firestore().collection(e).doc("company").collection("ClientsCatList").get(); case 2: return t = n.sent, r = t.docs.map((function (n) { return s({}, n.data()) })), n.abrupt("return", r); case 5: case "end": return n.stop() } }), n) })))).apply(this, arguments) } function X(n) { return G.apply(this, arguments) } function G() { return (G = o(i().mark((function n(e) { var t, r; return i().wrap((function (n) { for (; ;)switch (n.prev = n.next) { case 0: return n.next = 2, a.Z.firestore().collection(e).doc("company").collection("fines").get(); case 2: return t = n.sent, r = t.docs.map((function (n) { return s({}, n.data()) })), n.abrupt("return", r); case 5: case "end": return n.stop() } }), n) })))).apply(this, arguments) } function H(n) { return J.apply(this, arguments) } function J() { return (J = o(i().mark((function n(e) { var t, r; return i().wrap((function (n) { for (; ;)switch (n.prev = n.next) { case 0: return n.next = 2, a.Z.firestore().collection(e).doc("company").collection("photoRew").get(); case 2: return t = n.sent, r = t.docs.map((function (n) { return s({}, n.data()) })), n.abrupt("return", r); case 5: case "end": return n.stop() } }), n) })))).apply(this, arguments) } function K(n) { return V.apply(this, arguments) } function V() { return (V = o(i().mark((function n(e) { var t, r; return i().wrap((function (n) { for (; ;)switch (n.prev = n.next) { case 0: return n.next = 2, a.Z.firestore().collection(e).doc("company").collection("maintenance").get(); case 2: return t = n.sent, r = t.docs.map((function (n) { return s({}, n.data()) })), n.abrupt("return", r); case 5: case "end": return n.stop() } }), n) })))).apply(this, arguments) } function Q(n) { return Y.apply(this, arguments) } function Y() { return (Y = o(i().mark((function n(e) { var t, r; return i().wrap((function (n) { for (; ;)switch (n.prev = n.next) { case 0: return n.next = 2, a.Z.firestore().collection(e).doc("company").collection("counterparties").get(); case 2: return t = n.sent, r = t.docs.map((function (n) { return s({}, n.data()) })), n.abrupt("return", r); case 5: case "end": return n.stop() } }), n) })))).apply(this, arguments) } function nn(n) { return en.apply(this, arguments) } function en() { return (en = o(i().mark((function n(e) { var t, r; return i().wrap((function (n) { for (; ;)switch (n.prev = n.next) { case 0: return n.next = 2, a.Z.firestore().collection(e).doc("company").collection("nomenclature").get(); case 2: return t = n.sent, r = t.docs.map((function (n) { return s({}, n.data()) })), n.abrupt("return", r); case 5: case "end": return n.stop() } }), n) })))).apply(this, arguments) } function tn(n) { return rn.apply(this, arguments) } function rn() { return (rn = o(i().mark((function n(e) { var t, r; return i().wrap((function (n) { for (; ;)switch (n.prev = n.next) { case 0: return n.next = 2, a.Z.firestore().collection(e).doc("company").collection("tariffs").get(); case 2: return t = n.sent, r = t.docs.map((function (n) { return s({}, n.data()) })), n.abrupt("return", r); case 5: case "end": return n.stop() } }), n) })))).apply(this, arguments) } function an(n) { return cn.apply(this, arguments) } function cn() { return (cn = o(i().mark((function n(e) { var t, r; return i().wrap((function (n) { for (; ;)switch (n.prev = n.next) { case 0: return n.next = 2, a.Z.firestore().collection(e).doc("company").collection("staff").get(); case 2: return t = n.sent, r = t.docs.map((function (n) { return s({}, n.data()) })), n.abrupt("return", r); case 5: case "end": return n.stop() } }), n) })))).apply(this, arguments) } function on(n) { return un.apply(this, arguments) } function un() { return (un = o(i().mark((function n(e) { var t, r; return i().wrap((function (n) { for (; ;)switch (n.prev = n.next) { case 0: return n.next = 2, a.Z.firestore().collection(e).doc("company").collection("owners").get(); case 2: return t = n.sent, r = t.docs.map((function (n) { return s({}, n.data()) })), n.abrupt("return", r); case 5: case "end": return n.stop() } }), n) })))).apply(this, arguments) } }, 97029: function (n, e, t) { "use strict"; t.d(e, { Z: function () { return Z } }); var r = t(85893), i = t(67294), a = t(90948), c = t(87952), o = t(83321), u = t(6585), s = t(93946), l = t(64666), d = t(87357), p = t(15861), f = t(52521), m = t(50594), h = t(77058), x = t(75920), v = t(73400), j = t(1902), y = (t(96621), (0, a.ZP)(c.Z)((function (n) { var e = n.theme; return "\n      background-color: ".concat(e.colors.error.lighter, ";\n      color: ").concat(e.colors.error.main, ";\n      width: ").concat(e.spacing(12), ";\n      height: ").concat(e.spacing(12), ";\n\n      .MuiSvgIcon-root {\n        font-size: ").concat(e.typography.pxToRem(45), ";\n      }\n") }))), g = (0, a.ZP)(o.Z)((function (n) { var e = n.theme; return "\n     background: ".concat(e.colors.error.main, ";\n     color: ").concat(e.palette.error.contrastText, ";\n\n     &:hover {\n        background: ").concat(e.colors.error.dark, ";\n     }\n    ") })); function Z(n) { var e = n.collection, t = n.document, a = (0, h.$)().t, c = (0, i.useState)(!1), Z = c[0], _ = c[1], b = (0, v.Ds)().enqueueSnackbar, w = (0, x.a)().user, P = function () { _(!1) }; return (0, r.jsxs)(r.Fragment, { children: [(0, r.jsx)(s.Z, { onClick: function () { _(!0) }, color: "error", children: (0, r.jsx)(f.Z, {}) }), (0, r.jsx)(l.Z, { open: Z, onClose: P, "aria-labelledby": "alert-dialog-title", "aria-describedby": "alert-dialog-description", sx: { p: 3 }, children: (0, r.jsxs)(d.Z, { display: "flex", alignItems: "center", justifyContent: "center", flexDirection: "column", p: 5, children: [(0, r.jsx)(y, { children: (0, r.jsx)(m.Z, {}) }), (0, r.jsxs)(p.Z, { align: "center", sx: { py: 4, px: 6 }, variant: "h3", children: [a("ConfirmDelete_title"), a("ConfirmDelete_body")] }), (0, r.jsxs)(d.Z, { children: [(0, r.jsx)(o.Z, { variant: "text", size: "large", sx: { mx: 1 }, onClick: P, children: a("Back") }), (0, r.jsx)(g, { onClick: function () { var n; n = t, j.Z.firestore().collection(null === w || void 0 === w ? void 0 : w.company_id).doc("company").collection(e).doc(null === n || void 0 === n ? void 0 : n.id).delete(), b(a("Deleted"), { variant: "error", anchorOrigin: { vertical: "top", horizontal: "right" }, TransitionComponent: u.Z }), P() }, size: "large", sx: { mx: 1, px: 3 }, variant: "contained", children: a("Delete") })] })] }) })] }) } } }, function (n) { n.O(0, [5006, 9990, 5360, 6827, 3970, 5464, 6668, 2945, 1849, 8991, 8630, 990, 3274, 889, 5974, 8922, 2453, 2628, 6541, 8251, 5063, 7104, 5350, 5306, 9285, 9355, 8035, 9774, 2888, 179], (function () { return e = 62469, n(n.s = e); var e })); var e = n.O(); _N_E = e }]);