(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5932],{72717:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/maintenance/Results",function(){return r(96216)}])},96216:function(e,n,r){"use strict";r.r(n);var t=r(85893),i=r(67294),l=r(53184),o=r(53816),a=r(53252),c=r(26280),s=r(87357),u=r(66242),d=r(50135),f=r(87109),h=r(67720),m=r(15861),x=r(72882),v=r(7906),p=r(295),j=r(21023),g=r(93946),Z=r(47171),b=r(68586),y=r(77058),_=r(99586),w=r(42701),k=r(97029);function P(e,n,r){return n[r]<e[r]?-1:n[r]>e[r]?1:0}function C(e,n){return"desc"===e?function(e,r){return P(e,r,n)}:function(e,r){return-P(e,r,n)}}function O(e,n){var r=null===e||void 0===e?void 0:e.map((function(e,n){return[e,n]}));return null===r||void 0===r||r.sort((function(e,r){var t=n(e[0],r[0]);return 0!==t?t:e[1]-r[1]})),null===r||void 0===r?void 0:r.map((function(e){return e[0]}))}function S(e){var n=(0,y.$)().t,r=e.order,i=e.orderBy,s=e.onRequestSort,u=[{id:"maintenance_data",numeric:!1,label:n("maintenance_data"),align:"left"},{id:"maintenance_car",numeric:!1,label:n("maintenance_car"),align:"left"},{id:"maintenance_mileage",numeric:!1,label:n("maintenance_mileage"),align:"center"},{id:"maintenance_job_type",numeric:!0,label:n("maintenance_job_type"),align:"left"},{id:"maintenance_sum",numeric:!0,label:n("maintenance_sum"),align:"left"},{id:"maintenance_status",numeric:!0,label:n("maintenance_status"),align:"left"}];return(0,t.jsx)(l.Z,{children:(0,t.jsxs)(o.Z,{children:[u.map((function(e){return(0,t.jsx)(a.Z,{sortDirection:i===e.id&&r,children:(0,t.jsx)(c.Z,{active:i===e.id,direction:i===e.id?r:"asc",onClick:(n=e.id,function(e){s(e,n)}),children:e.label})},e.id);var n})),(0,t.jsx)(a.Z,{sortDirection:!1,align:"center",children:n("Actions")})]})})}n.default=function(e){var n,r,l=e.initialData,c=e.collection,P=e.detailsUrl,N=(0,y.$)().t,D=(0,i.useState)(0),R=D[0],A=D[1],E=(0,i.useState)(10),I=E[0],z=E[1],F=(0,i.useState)(""),T=F[0],q=F[1],B=(0,i.useState)("asc"),W=B[0],$=B[1],L=(0,i.useState)("data"),V=L[0],X=L[1];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.Z,{display:"flex",alignItems:"center",flexDirection:{xs:"column",sm:"row"},justifyContent:{xs:"center",sm:"space-between"},pb:3}),(0,t.jsxs)(u.Z,{children:[(0,t.jsx)(s.Z,{p:2,children:(0,t.jsx)(d.Z,{sx:{m:0},InputProps:{startAdornment:(0,t.jsx)(f.Z,{position:"start",children:(0,t.jsx)(w.Z,{})})},onChange:function(e){e.persist(),q(e.target.value)},placeholder:N("placeholderSearch"),value:T,size:"small",fullWidth:!0,margin:"normal",variant:"outlined"})}),(0,t.jsx)(h.Z,{}),0===(null===l||void 0===l?void 0:l.length)?(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(m.Z,{sx:{py:10},variant:"h3",fontWeight:"normal",color:"text.secondary",align:"center",children:N("placeholderSearchNotFound")})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.Z,{children:(0,t.jsxs)(v.Z,{children:[(0,t.jsx)(S,{order:W,orderBy:V,onRequestSort:function(e,n){$(V===n&&"asc"===W?"desc":"asc"),X(n)},rowCount:null===l||void 0===l?void 0:l.length}),(0,t.jsx)(p.Z,{children:null===(r=null===(n=O(l,C(W,V)))||void 0===n?void 0:n.slice(R*I,R*I+I))||void 0===r?void 0:r.map((function(e){return(0,t.jsxs)(o.Z,{hover:!0,children:[(0,t.jsx)(a.Z,{children:(0,t.jsx)(b.C,{href:P+(null===e||void 0===e?void 0:e.id),children:new Intl.DateTimeFormat("ru-Ru",{year:"numeric",month:"2-digit",day:"2-digit"}).format(e.maintenance_data)})}),(0,t.jsx)(a.Z,{children:(0,t.jsx)(m.Z,{children:null===e||void 0===e?void 0:e.maintenance_car})}),(0,t.jsx)(a.Z,{children:(0,t.jsx)(m.Z,{children:null===e||void 0===e?void 0:e.maintenance_mileage})}),(0,t.jsx)(a.Z,{children:(0,t.jsx)(m.Z,{children:null===e||void 0===e?void 0:e.maintenance_job_type})}),(0,t.jsx)(a.Z,{children:(0,t.jsx)(m.Z,{children:null===e||void 0===e?void 0:e.maintenance_sum})}),(0,t.jsx)(a.Z,{children:(0,t.jsx)(m.Z,{children:null===e||void 0===e?void 0:e.maintenance_status})}),(0,t.jsx)(a.Z,{align:"center",children:(0,t.jsxs)(m.Z,{noWrap:!0,children:[(0,t.jsx)(j.Z,{title:N("View"),arrow:!0,children:(0,t.jsx)(g.Z,{color:"primary",children:(0,t.jsx)(b.C,{href:P+(null===e||void 0===e?void 0:e.id),children:(0,t.jsx)(_.Z,{fontSize:"small"})})})}),(0,t.jsx)(j.Z,{title:N("Delete"),arrow:!0,children:(0,t.jsx)(k.Z,{collection:c,document:null===e||void 0===e?void 0:e.id})})]})})]},null===e||void 0===e?void 0:e.id)}))})]})}),(0,t.jsx)(s.Z,{p:2,children:(0,t.jsx)(Z.Z,{component:"div",count:null===l||void 0===l?void 0:l.length,onPageChange:function(e,n){A(n)},onRowsPerPageChange:function(e){z(parseInt(e.target.value))},page:R,rowsPerPage:I,labelRowsPerPage:N("RowsPerPage"),rowsPerPageOptions:[5,10,20,50]})})]})]})]})}},68586:function(e,n,r){"use strict";var t=r(85893),i=r(67294),l=r(86010),o=r(11163),a=r(41664),c=r.n(a),s=r(50122);function u(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function d(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){u(e,n,r[n])}))}return e}function f(e,n){if(null==e)return{};var r,t,i=function(e,n){if(null==e)return{};var r,t,i={},l=Object.keys(e);for(t=0;t<l.length;t++)r=l[t],n.indexOf(r)>=0||(i[r]=e[r]);return i}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(t=0;t<l.length;t++)r=l[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var h=(0,r(90948).ZP)("a")({}),m=i.forwardRef((function(e,n){var r=e.to,i=e.linkAs,l=e.replace,o=e.scroll,a=e.shallow,s=e.prefetch,u=e.locale,m=f(e,["to","linkAs","replace","scroll","shallow","prefetch","locale"]);return(0,t.jsx)(c(),{href:r,prefetch:s,as:i,replace:l,scroll:o,shallow:a,passHref:!0,locale:u,children:(0,t.jsx)(h,d({ref:n},m))})})),x=i.forwardRef((function(e,n){var r=e.activeClassName,i=void 0===r?"active":r,a=e.as,c=e.className,x=e.href,v=e.linkAs,p=e.locale,j=e.noLinkStyle,g=e.prefetch,Z=e.replace,b=(e.role,e.scroll),y=e.shallow,_=f(e,["activeClassName","as","className","href","linkAs","locale","noLinkStyle","prefetch","replace","role","scroll","shallow"]),w=(0,o.useRouter)(),k="string"===typeof x?x:x.pathname,P=(0,l.Z)(c,u({},i,w.pathname===k&&i));if("string"===typeof x&&(0===x.indexOf("http")||0===x.indexOf("mailto:")))return j?(0,t.jsx)(h,d({className:P,href:x,ref:n},_)):(0,t.jsx)(s.Z,d({className:P,href:x,ref:n},_));var C={to:x,linkAs:v||a,replace:Z,scroll:b,shallow:y,prefetch:g,locale:p};return j?(0,t.jsx)(m,d({className:P,ref:n},C,_)):(0,t.jsx)(s.Z,d({component:m,className:P,ref:n},C,_))}));n.C=x},75920:function(e,n,r){"use strict";r.d(n,{a:function(){return l}});var t=r(67294),i=r(40517),l=function(){return(0,t.useContext)(i.Vo)}},97029:function(e,n,r){"use strict";r.d(n,{Z:function(){return b}});var t=r(85893),i=r(67294),l=r(90948),o=r(87952),a=r(83321),c=r(6585),s=r(93946),u=r(64666),d=r(87357),f=r(15861),h=r(52521),m=r(50594),x=r(77058),v=r(75920),p=r(73400),j=r(1902),g=(r(96621),(0,l.ZP)(o.Z)((function(e){var n=e.theme;return"\n      background-color: ".concat(n.colors.error.lighter,";\n      color: ").concat(n.colors.error.main,";\n      width: ").concat(n.spacing(12),";\n      height: ").concat(n.spacing(12),";\n\n      .MuiSvgIcon-root {\n        font-size: ").concat(n.typography.pxToRem(45),";\n      }\n")}))),Z=(0,l.ZP)(a.Z)((function(e){var n=e.theme;return"\n     background: ".concat(n.colors.error.main,";\n     color: ").concat(n.palette.error.contrastText,";\n\n     &:hover {\n        background: ").concat(n.colors.error.dark,";\n     }\n    ")}));function b(e){var n=e.collection,r=e.document,l=(0,x.$)().t,o=(0,i.useState)(!1),b=o[0],y=o[1],_=(0,p.Ds)().enqueueSnackbar,w=(0,v.a)().user,k=function(){y(!1)};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.Z,{onClick:function(){y(!0)},color:"error",children:(0,t.jsx)(h.Z,{})}),(0,t.jsx)(u.Z,{open:b,onClose:k,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",sx:{p:3},children:(0,t.jsxs)(d.Z,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",p:5,children:[(0,t.jsx)(g,{children:(0,t.jsx)(m.Z,{})}),(0,t.jsxs)(f.Z,{align:"center",sx:{py:4,px:6},variant:"h3",children:[l("ConfirmDelete_title"),l("ConfirmDelete_body")]}),(0,t.jsxs)(d.Z,{children:[(0,t.jsx)(a.Z,{variant:"text",size:"large",sx:{mx:1},onClick:k,children:l("Back")}),(0,t.jsx)(Z,{onClick:function(){var e;e=r,j.Z.firestore().collection(null===w||void 0===w?void 0:w.company_id).doc("company").collection(n).doc(null===e||void 0===e?void 0:e.id).delete(),_(l("Deleted"),{variant:"error",anchorOrigin:{vertical:"top",horizontal:"right"},TransitionComponent:c.Z}),k()},size:"large",sx:{mx:1,px:3},variant:"contained",children:l("Delete")})]})]})})]})}}},function(e){e.O(0,[9990,5360,6827,3970,5464,6668,2945,1849,8991,8630,990,2453,7171,8785,2693,9774,2888,179],(function(){return n=72717,e(e.s=n);var n}));var n=e.O();_N_E=n}]);