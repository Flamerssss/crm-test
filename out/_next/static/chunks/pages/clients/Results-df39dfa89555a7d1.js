(self.webpackChunk_N_E = self.webpackChunk_N_E || []).push([[7973], { 84012: function (e, n, r) { (window.__NEXT_P = window.__NEXT_P || []).push(["/clients/Results", function () { return r(92103) }]) }, 92103: function (e, n, r) { "use strict"; r.r(n); var t = r(85893), l = r(67294), o = r(90948), i = r(66242), c = r(37023), a = r(87357), s = r(40044), d = r(33454), u = r(96420), h = r(50135), x = r(87109), v = r(67720), p = r(15861), f = r(72882), j = r(7906), g = r(53184), m = r(53816), b = r(53252), Z = r(295), y = r(87952), w = r(21023), _ = r(93946), P = r(47171), O = r(86886), k = r(68586), C = r(77058), S = r(86010), I = r(99586), N = r(80100), R = r(42701), A = r(56344), D = r(43743), E = r(82864), z = r(97029); function F(e, n, r) { return n in e ? Object.defineProperty(e, n, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[n] = r, e } var T = (0, o.ZP)(i.Z)((function (e) { var n = e.theme; return "\n\n  position: relative;\n  overflow: visible;\n\n  &::after {\n    content: '';\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n    border-radius: inherit;\n    z-index: 1;\n    transition: ".concat(n.transitions.create(["box-shadow"]), ";\n  }\n      \n    &.Mui-selected::after {\n      box-shadow: 0 0 0 3px ").concat(n.colors.primary.main, ";\n    }\n  ") })), W = (0, o.ZP)(c.Z)((function (e) { var n = e.theme; return "\n    @media (max-width: ".concat(n.breakpoints.values.md, "px) {\n      .MuiTabs-scrollableX {\n        overflow-x: auto !important;\n      }\n\n      .MuiTabs-indicator {\n          box-shadow: none;\n      }\n    }\n    ") })), M = function (e, n, r, l, o) { var i = { Available: { text: n, color: "success" }, Inservice: { text: r, color: "error" }, Booked: { text: l, color: "info" }, InRent: { text: o, color: "warning" } }[e], c = i.text, a = i.color; return (0, t.jsx)(N.Z, { color: a, children: c }) }; n.default = function (e) { var n = e.clients, r = (0, l.useState)([]), o = r[0], c = r[1], N = (0, C.$)().t, B = (0, l.useState)(0), L = B[0], X = B[1], V = (0, l.useState)(10), $ = V[0], q = V[1], H = (0, l.useState)(""), G = H[0], J = H[1], K = (0, l.useState)({ id: null }), Q = K[0], U = K[1], Y = [{ value: "all", label: N("All") }], ee = function (e) { e.persist(), J(e.target.value) }, ne = function (e, n) { X(n) }, re = function (e) { q(parseInt(e.target.value)) }, te = function (e, n, r) { return null === e || void 0 === e ? void 0 : e.filter((function (e) { var t = !0; if (n) { var l = !1;["client_status", "name", "username"].forEach((function (r) { e[r].toLowerCase().includes(n.toLowerCase()) && (l = !0) })), r.client_status && e.client_status !== r.client_status && (t = !1), l || (t = !1) } return Object.keys(r).forEach((function (n) { var l = r[n]; l && e[n] !== l && (t = !1) })), t })) }(n, G, Q), le = function (e, n, r) { return null === e || void 0 === e ? void 0 : e.slice(n * r, n * r + r) }(te, L, $), oe = o.length > 0, ie = (0, l.useState)("table_view"), ce = ie[0], ae = ie[1]; return (0, t.jsxs)(t.Fragment, { children: [(0, t.jsxs)(a.Z, { display: "flex", alignItems: "center", flexDirection: { xs: "column", sm: "row" }, justifyContent: { xs: "center", sm: "space-between" }, pb: 3, children: [(0, t.jsx)(W, { onChange: function (e, n) { var r = null; "all" !== n && (r = n), U((function (e) { return function (e) { for (var n = 1; n < arguments.length; n++) { var r = null != arguments[n] ? arguments[n] : {}, t = Object.keys(r); "function" === typeof Object.getOwnPropertySymbols && (t = t.concat(Object.getOwnPropertySymbols(r).filter((function (e) { return Object.getOwnPropertyDescriptor(r, e).enumerable })))), t.forEach((function (n) { F(e, n, r[n]) })) } return e }({}, e, { role: r }) })), c([]) }, scrollButtons: "auto", textColor: "secondary", value: (null === Q || void 0 === Q ? void 0 : Q.client_status) || "all", variant: "scrollable", children: null === Y || void 0 === Y ? void 0 : Y.map((function (e) { return (0, t.jsx)(s.Z, { value: e.value, label: e.label }, e.value) })) }), (0, t.jsxs)(d.Z, { sx: { mt: { xs: 2, sm: 0 } }, value: ce, exclusive: !0, onChange: function (e, n) { ae(n) }, children: [(0, t.jsx)(u.Z, { disableRipple: !0, value: "table_view", children: (0, t.jsx)(D.Z, {}) }), (0, t.jsx)(u.Z, { disableRipple: !0, value: "grid_view", children: (0, t.jsx)(A.Z, {}) })] })] }), "table_view" === ce && (0, t.jsxs)(i.Z, { children: [(0, t.jsxs)(a.Z, { p: 2, children: [!oe && (0, t.jsx)(h.Z, { sx: { m: 0 }, InputProps: { startAdornment: (0, t.jsx)(x.Z, { position: "start", children: (0, t.jsx)(R.Z, {}) }) }, onChange: ee, placeholder: N("placeholderSearch"), value: G, size: "small", fullWidth: !0, margin: "normal", variant: "outlined" }), oe] }), (0, t.jsx)(v.Z, {}), 0 === (null === le || void 0 === le ? void 0 : le.length) ? (0, t.jsx)(t.Fragment, { children: (0, t.jsx)(p.Z, { sx: { py: 10 }, variant: "h3", fontWeight: "normal", color: "text.secondary", align: "center", children: N("placeholderSearchNotFound") }) }) : (0, t.jsxs)(t.Fragment, { children: [(0, t.jsx)(f.Z, { children: (0, t.jsxs)(j.Z, { children: [(0, t.jsx)(g.Z, { children: (0, t.jsxs)(m.Z, { children: [(0, t.jsx)(b.Z, { children: N("client_name") }), (0, t.jsx)(b.Z, { children: N("client_phone") }), (0, t.jsx)(b.Z, { children: N("client_registration_address_all") }), (0, t.jsxs)(b.Z, { children: [N("client_birthDay"), " / ", N("client_age")] }), (0, t.jsx)(b.Z, { children: N("client_balance") }), (0, t.jsx)(b.Z, { children: N("client_comment") }), (0, t.jsx)(b.Z, { align: "center", children: N("Actions") })] }) }), (0, t.jsx)(Z.Z, { children: null === le || void 0 === le ? void 0 : le.map((function (e) { var n = o.includes(null === e || void 0 === e ? void 0 : e.id); return (0, t.jsxs)(m.Z, { hover: !0, selected: n, children: [(0, t.jsx)(b.Z, { children: (0, t.jsxs)(a.Z, { display: "flex", alignItems: "center", children: [(0, t.jsx)(y.Z, { sx: { mr: 1 }, src: null === e || void 0 === e ? void 0 : e.client_avatar }), (0, t.jsx)(a.Z, { children: (0, t.jsxs)(k.C, { variant: "h5", href: "/clients/profile/" + (null === e || void 0 === e ? void 0 : e.id), children: [null === e || void 0 === e ? void 0 : e.client_surname, " ", null === e || void 0 === e ? void 0 : e.client_name] }) })] }) }), (0, t.jsx)(b.Z, { children: (0, t.jsx)(p.Z, { children: null === e || void 0 === e ? void 0 : e.client_phone }) }), (0, t.jsx)(b.Z, { children: (0, t.jsx)(p.Z, { children: null === e || void 0 === e ? void 0 : e.client_registration_address_all }) }), (0, t.jsx)(b.Z, { children: (0, t.jsxs)(a.Z, { children: [(0, t.jsx)(p.Z, { noWrap: !0, children: null === e || void 0 === e ? void 0 : e.client_birthDay }), (0, t.jsx)(p.Z, { noWrap: !0, variant: "subtitle2", children: null === e || void 0 === e ? void 0 : e.client_age })] }) }), (0, t.jsx)(b.Z, { align: "center", children: (0, t.jsx)(p.Z, { children: null === e || void 0 === e ? void 0 : e.client_balance }) }), (0, t.jsx)(b.Z, { children: (0, t.jsx)(p.Z, { children: null === e || void 0 === e ? void 0 : e.client_comment }) }), (0, t.jsx)(b.Z, { children: M(null === e || void 0 === e ? void 0 : e.client_status, N("Available"), N("Inservice"), N("Booked"), N("InRent")) }), (0, t.jsx)(b.Z, { align: "center", children: (0, t.jsxs)(p.Z, { noWrap: !0, children: [(0, t.jsx)(w.Z, { title: N("View"), arrow: !0, children: (0, t.jsx)(_.Z, { color: "primary", children: (0, t.jsx)(k.C, { href: "/clients/profile/" + (null === e || void 0 === e ? void 0 : e.id), children: (0, t.jsx)(I.Z, { fontSize: "small" }) }) }) }), (0, t.jsx)(w.Z, { title: N("Delete"), arrow: !0, children: (0, t.jsx)(z.Z, { collection: "cars", document: null === e || void 0 === e ? void 0 : e.id }) })] }) })] }, null === e || void 0 === e ? void 0 : e.id) })) })] }) }), (0, t.jsx)(a.Z, { p: 2, children: (0, t.jsx)(P.Z, { component: "div", count: null === te || void 0 === te ? void 0 : te.length, onPageChange: ne, onRowsPerPageChange: re, page: L, rowsPerPage: $, labelRowsPerPage: N("RowsPerPage"), rowsPerPageOptions: [5, 10, 20, 50] }) })] })] }), "grid_view" === ce && (0, t.jsxs)(t.Fragment, { children: [(0, t.jsx)(i.Z, { sx: { p: 2, mb: 3 }, children: (0, t.jsxs)(a.Z, { display: "flex", alignItems: "center", justifyContent: "space-between", children: [0 !== (null === le || void 0 === le ? void 0 : le.length) && (0, t.jsx)(t.Fragment, { children: oe && (0, t.jsx)(a.Z, { flex: 1, pl: 2 }) }), !oe && (0, t.jsx)(h.Z, { sx: { my: 0, ml: 0 !== (null === le || void 0 === le ? void 0 : le.length) ? 2 : 0 }, fullWidth: !0, InputProps: { startAdornment: (0, t.jsx)(x.Z, { position: "start", children: (0, t.jsx)(R.Z, {}) }) }, onChange: ee, placeholder: N("placeholderSearch"), value: G, size: "small", margin: "normal", variant: "outlined" })] }) }), 0 === (null === le || void 0 === le ? void 0 : le.length) ? (0, t.jsx)(p.Z, { sx: { py: 10 }, variant: "h3", fontWeight: "normal", color: "text.secondary", align: "center", children: N("placeholderSearchNotFound") }) : (0, t.jsxs)(t.Fragment, { children: [(0, t.jsx)(O.ZP, { container: !0, spacing: 3, children: null === le || void 0 === le ? void 0 : le.map((function (e) { var n = o.includes(null === e || void 0 === e ? void 0 : e.id); return (0, t.jsx)(O.ZP, { item: !0, xs: 12, sm: 6, md: 4, children: (0, t.jsx)(T, { className: (0, S.Z)({ "Mui-selected": n }), children: (0, t.jsxs)(a.Z, { sx: { position: "relative", zIndex: "2" }, children: [(0, t.jsxs)(a.Z, { px: 2, pt: 2, display: "flex", alignItems: "flex-start", justifyContent: "space-between", children: [M(null === e || void 0 === e ? void 0 : e.client_status, N("Available"), N("Inservice"), N("Booked"), N("InRent")), (0, t.jsx)(_.Z, { color: "primary", sx: { p: .5 }, children: (0, t.jsx)(E.Z, {}) })] }), (0, t.jsxs)(a.Z, { p: 2, display: "flex", alignItems: "flex-start", children: [(0, t.jsx)(y.Z, { sx: { width: 50, height: 50, mr: 2 }, src: null === e || void 0 === e ? void 0 : e.client_avatar }), (0, t.jsxs)(a.Z, { children: [(0, t.jsxs)(a.Z, { children: [(0, t.jsxs)(k.C, { variant: "h5", href: "/clients/profile/" + (null === e || void 0 === e ? void 0 : e.id), children: [null === e || void 0 === e ? void 0 : e.client_surname, "  ", null === e || void 0 === e ? void 0 : e.client_name] }), " ", (0, t.jsxs)(p.Z, { component: "span", variant: "body2", color: "text.secondary", children: ["(", null === e || void 0 === e ? void 0 : e.client_phone, ")"] })] }), (0, t.jsx)(p.Z, { sx: { pt: .3 }, variant: "subtitle2", children: null === e || void 0 === e ? void 0 : e.car_class }), (0, t.jsx)(p.Z, { sx: { pt: 1 }, variant: "h6", children: null === e || void 0 === e ? void 0 : e.car_\u0441ategory })] })] }), (0, t.jsx)(v.Z, {}), (0, t.jsx)(a.Z, { pl: 2, py: 1, pr: 1, display: "flex", alignItems: "center", justifyContent: "space-between" })] }) }) }, null === e || void 0 === e ? void 0 : e.id) })) }), (0, t.jsxs)(i.Z, { sx: { p: 2, mt: 3, display: "flex", alignItems: "center", justifyContent: "space-between" }, children: [(0, t.jsxs)(a.Z, { children: [(0, t.jsx)(p.Z, { component: "span", variant: "subtitle1", children: N("Showing") }), " ", (0, t.jsx)("b", { children: $ }), " ", N("of"), " ", (0, t.jsx)("b", { children: null === te || void 0 === te ? void 0 : te.length }), " "] }), (0, t.jsx)(P.Z, { component: "div", count: null === te || void 0 === te ? void 0 : te.length, onPageChange: ne, onRowsPerPageChange: re, page: L, rowsPerPage: $, labelRowsPerPage: N("RowsPerPage"), rowsPerPageOptions: [5, 10, 20, 50] })] })] })] }), !ce && (0, t.jsx)(i.Z, { sx: { textAlign: "center", p: 3 }, children: (0, t.jsx)(p.Z, { align: "center", variant: "h4", fontWeight: "normal", color: "text.secondary", sx: { my: 5 }, gutterBottom: !0, children: N("Choose between table or grid views for displaying the users list.") }) })] }) } }, 80100: function (e, n, r) { "use strict"; var t = r(85893), l = r(45697), o = r.n(l); function i(e, n, r) { return n in e ? Object.defineProperty(e, n, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[n] = r, e } function c(e, n) { if (null == e) return {}; var r, t, l = function (e, n) { if (null == e) return {}; var r, t, l = {}, o = Object.keys(e); for (t = 0; t < o.length; t++)r = o[t], n.indexOf(r) >= 0 || (l[r] = e[r]); return l }(e, n); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (t = 0; t < o.length; t++)r = o[t], n.indexOf(r) >= 0 || Object.prototype.propertyIsEnumerable.call(e, r) && (l[r] = e[r]) } return l } var a = (0, r(90948).ZP)("span")((function (e) { var n = e.theme; return "\n      background-color: ".concat(n.colors.alpha.black[5], ";\n      padding: ").concat(n.spacing(.5, 1), ";\n      font-size: ").concat(n.typography.pxToRem(13), ";\n      border-radius: ").concat(n.general.borderRadius, ";\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      max-height: ").concat(n.spacing(3), ";\n      \n      &.MuiLabel {\n        &-primary {\n          background-color: ").concat(n.colors.primary.lighter, ";\n          color: ").concat(n.palette.primary.main, "\n        }\n\n        &-black {\n          background-color: ").concat(n.colors.alpha.black[100], ";\n          color: ").concat(n.colors.alpha.white[100], ";\n        }\n        \n        &-secondary {\n          background-color: ").concat(n.colors.secondary.lighter, ";\n          color: ").concat(n.palette.secondary.main, "\n        }\n        \n        &-success {\n          background-color: ").concat(n.colors.success.lighter, ";\n          color: ").concat(n.palette.success.main, "\n        }\n        \n        &-warning {\n          background-color: ").concat(n.colors.warning.lighter, ";\n          color: ").concat(n.palette.warning.main, "\n        }\n              \n        &-error {\n          background-color: ").concat(n.colors.error.lighter, ";\n          color: ").concat(n.palette.error.main, "\n        }\n        \n        &-info {\n          background-color: ").concat(n.colors.info.lighter, ";\n          color: ").concat(n.palette.info.main, "\n        }\n      }\n") })), s = function (e) { e.className; var n = e.color, r = void 0 === n ? "secondary" : n, l = e.children, o = c(e, ["className", "color", "children"]); return (0, t.jsx)(a, function (e) { for (var n = 1; n < arguments.length; n++) { var r = null != arguments[n] ? arguments[n] : {}, t = Object.keys(r); "function" === typeof Object.getOwnPropertySymbols && (t = t.concat(Object.getOwnPropertySymbols(r).filter((function (e) { return Object.getOwnPropertyDescriptor(r, e).enumerable })))), t.forEach((function (n) { i(e, n, r[n]) })) } return e }({ className: "MuiLabel-" + r }, o, { children: l })) }; s.propTypes = { children: o().node, className: o().string, color: o().oneOf(["primary", "black", "secondary", "error", "warning", "success", "info"]) }, n.Z = s }, 68586: function (e, n, r) { "use strict"; var t = r(85893), l = r(67294), o = r(86010), i = r(11163), c = r(41664), a = r.n(c), s = r(50122); function d(e, n, r) { return n in e ? Object.defineProperty(e, n, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[n] = r, e } function u(e) { for (var n = 1; n < arguments.length; n++) { var r = null != arguments[n] ? arguments[n] : {}, t = Object.keys(r); "function" === typeof Object.getOwnPropertySymbols && (t = t.concat(Object.getOwnPropertySymbols(r).filter((function (e) { return Object.getOwnPropertyDescriptor(r, e).enumerable })))), t.forEach((function (n) { d(e, n, r[n]) })) } return e } function h(e, n) { if (null == e) return {}; var r, t, l = function (e, n) { if (null == e) return {}; var r, t, l = {}, o = Object.keys(e); for (t = 0; t < o.length; t++)r = o[t], n.indexOf(r) >= 0 || (l[r] = e[r]); return l }(e, n); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (t = 0; t < o.length; t++)r = o[t], n.indexOf(r) >= 0 || Object.prototype.propertyIsEnumerable.call(e, r) && (l[r] = e[r]) } return l } var x = (0, r(90948).ZP)("a")({}), v = l.forwardRef((function (e, n) { var r = e.to, l = e.linkAs, o = e.replace, i = e.scroll, c = e.shallow, s = e.prefetch, d = e.locale, v = h(e, ["to", "linkAs", "replace", "scroll", "shallow", "prefetch", "locale"]); return (0, t.jsx)(a(), { href: r, prefetch: s, as: l, replace: o, scroll: i, shallow: c, passHref: !0, locale: d, children: (0, t.jsx)(x, u({ ref: n }, v)) }) })), p = l.forwardRef((function (e, n) { var r = e.activeClassName, l = void 0 === r ? "active" : r, c = e.as, a = e.className, p = e.href, f = e.linkAs, j = e.locale, g = e.noLinkStyle, m = e.prefetch, b = e.replace, Z = (e.role, e.scroll), y = e.shallow, w = h(e, ["activeClassName", "as", "className", "href", "linkAs", "locale", "noLinkStyle", "prefetch", "replace", "role", "scroll", "shallow"]), _ = (0, i.useRouter)(), P = "string" === typeof p ? p : p.pathname, O = (0, o.Z)(a, d({}, l, _.pathname === P && l)); if ("string" === typeof p && (0 === p.indexOf("http") || 0 === p.indexOf("mailto:"))) return g ? (0, t.jsx)(x, u({ className: O, href: p, ref: n }, w)) : (0, t.jsx)(s.Z, u({ className: O, href: p, ref: n }, w)); var k = { to: p, linkAs: f || c, replace: b, scroll: Z, shallow: y, prefetch: m, locale: j }; return g ? (0, t.jsx)(v, u({ className: O, ref: n }, k, w)) : (0, t.jsx)(s.Z, u({ component: v, className: O, ref: n }, k, w)) })); n.C = p }, 75920: function (e, n, r) { "use strict"; r.d(n, { a: function () { return o } }); var t = r(67294), l = r(40517), o = function () { return (0, t.useContext)(l.Vo) } }, 97029: function (e, n, r) { "use strict"; r.d(n, { Z: function () { return Z } }); var t = r(85893), l = r(67294), o = r(90948), i = r(87952), c = r(83321), a = r(6585), s = r(93946), d = r(64666), u = r(87357), h = r(15861), x = r(52521), v = r(50594), p = r(77058), f = r(75920), j = r(73400), g = r(1902), m = (r(96621), (0, o.ZP)(i.Z)((function (e) { var n = e.theme; return "\n      background-color: ".concat(n.colors.error.lighter, ";\n      color: ").concat(n.colors.error.main, ";\n      width: ").concat(n.spacing(12), ";\n      height: ").concat(n.spacing(12), ";\n\n      .MuiSvgIcon-root {\n        font-size: ").concat(n.typography.pxToRem(45), ";\n      }\n") }))), b = (0, o.ZP)(c.Z)((function (e) { var n = e.theme; return "\n     background: ".concat(n.colors.error.main, ";\n     color: ").concat(n.palette.error.contrastText, ";\n\n     &:hover {\n        background: ").concat(n.colors.error.dark, ";\n     }\n    ") })); function Z(e) { var n = e.collection, r = e.document, o = (0, p.$)().t, i = (0, l.useState)(!1), Z = i[0], y = i[1], w = (0, j.Ds)().enqueueSnackbar, _ = (0, f.a)().user, P = function () { y(!1) }; return (0, t.jsxs)(t.Fragment, { children: [(0, t.jsx)(s.Z, { onClick: function () { y(!0) }, color: "error", children: (0, t.jsx)(x.Z, {}) }), (0, t.jsx)(d.Z, { open: Z, onClose: P, "aria-labelledby": "alert-dialog-title", "aria-describedby": "alert-dialog-description", sx: { p: 3 }, children: (0, t.jsxs)(u.Z, { display: "flex", alignItems: "center", justifyContent: "center", flexDirection: "column", p: 5, children: [(0, t.jsx)(m, { children: (0, t.jsx)(v.Z, {}) }), (0, t.jsxs)(h.Z, { align: "center", sx: { py: 4, px: 6 }, variant: "h3", children: [o("ConfirmDelete_title"), o("ConfirmDelete_body")] }), (0, t.jsxs)(u.Z, { children: [(0, t.jsx)(c.Z, { variant: "text", size: "large", sx: { mx: 1 }, onClick: P, children: o("Back") }), (0, t.jsx)(b, { onClick: function () { var e; e = r, g.Z.firestore().collection(null === _ || void 0 === _ ? void 0 : _.company_id).doc("company").collection(n).doc(null === e || void 0 === e ? void 0 : e.id).delete(), w(o("Deleted"), { variant: "error", anchorOrigin: { vertical: "top", horizontal: "right" }, TransitionComponent: a.Z }), P() }, size: "large", sx: { mx: 1, px: 3 }, variant: "contained", children: o("Delete") })] })] }) })] }) } } }, function (e) { e.O(0, [9990, 5360, 6827, 3970, 5464, 6668, 2945, 1849, 8991, 8630, 990, 3274, 2453, 7171, 8232, 5094, 9774, 2888, 179], (function () { return n = 84012, e(e.s = n); var n })); var n = e.O(); _N_E = n }]);