"use strict"; (self.webpackChunk_N_E = self.webpackChunk_N_E || []).push([[1441], { 61441: function (e, n, l) { l.r(n), l.d(n, { default: function () { return P } }); var t = l(85893), a = l(67294), i = l(86886), r = l(66242), o = l(78445), c = l(67720), s = l(44267), d = l(5306), u = l(50135), f = l(18972), x = l(87357), v = l(64986), h = l(83321), _ = l(57922), m = l(15861), j = l(77058), g = l(46747), p = [{ value: "#000000", label: "\u0427\u0435\u0440\u043d\u044b\u0439", textColor: "#ffffff" }, { value: "#151719", label: "\u0427\u0435\u0440\u043d\u044b\u0439 \u043c\u0430\u0442\u043e\u0432\u044b\u0439", textColor: "#ffffff" }, { value: "#7d7f7d", label: "\u0421\u0435\u0440\u044b\u0439 \u043c\u0430\u0442\u043e\u0432\u044b\u0439", textColor: "#ffffff" }, { value: "#313331", label: "\u0422\u0435\u043c\u043d\u043e-\u0441\u0435\u0440\u044b\u0439", textColor: "#ffffff" }, { value: "#808080", label: "\u0421\u0435\u0440\u044b\u0439", textColor: "#ffffff" }, { value: "#d4d4d4", label: "\u0421\u0435\u0440\u0435\u0431\u0440\u0438\u0441\u0442\u044b\u0439", textColor: "#000000" }, { value: "#ffffff", label: "\u0411\u0435\u043b\u044b\u0439", textColor: "#000000" }, { value: "#002137", label: "\u0422\u0435\u043c\u043d\u043e-\u0441\u0438\u043d\u0438\u0439", textColor: "#ffffff" }, { value: "#0000ff", label: "\u0421\u0438\u043d\u0438\u0439", textColor: "#ffffff" }, { value: "#ff0000", label: "\u041a\u0440\u0430\u0441\u043d\u044b\u0439", textColor: "#ffffff" }, { value: "#964b00", label: "\u041a\u043e\u0440\u0438\u0447\u043d\u0435\u0432\u044b\u0439", textColor: "#ffffff" }, { value: "#99ff99", label: "\u0421\u0430\u043b\u0430\u0442\u043e\u0432\u044b\u0439", textColor: "#000000" }, { value: "#013220", label: "\u0422\u0435\u043c\u043d\u043e-\u0437\u0435\u043b\u0435\u043d\u044b\u0439", textColor: "#ffffff" }, { value: "#008000", label: "\u0417\u0435\u043b\u0435\u043d\u044b\u0439", textColor: "#ffffff" }, { value: "#42aaff", label: "\u0413\u043e\u043b\u0443\u0431\u043e\u0439", textColor: "#ffffff" }, { value: "#a86b00", label: "\u041e\u0440\u0430\u043d\u0436\u0435\u0432\u044b\u0439 \u043c\u0430\u0442\u043e\u0432\u044b\u0439", textColor: "#000000" }, { value: "#ffa500", label: "\u041e\u0440\u0430\u043d\u0436\u0435\u0432\u044b\u0439", textColor: "#000000" }, { value: "#ffff00", label: "\u0416\u0435\u043b\u0442\u044b\u0439", textColor: "#000000" }], Z = (l(80091), l(1902)); l(15063); function b(e, n, l) { return n in e ? Object.defineProperty(e, n, { value: l, enumerable: !0, configurable: !0, writable: !0 }) : e[n] = l, e } function C(e) { for (var n = 1; n < arguments.length; n++) { var l = null != arguments[n] ? arguments[n] : {}, t = Object.keys(l); "function" === typeof Object.getOwnPropertySymbols && (t = t.concat(Object.getOwnPropertySymbols(l).filter((function (e) { return Object.getOwnPropertyDescriptor(l, e).enumerable })))), t.forEach((function (n) { b(e, n, l[n]) })) } return e } var P = function (e) { var n = e.setCar, l = e.car, b = e.car_category, P = e.car_status, y = e.owners, w = e.tariffs, W = e.car_brand, O = e.companyId, k = e.fleets, T = (0, j.$)().t, I = (0, a.useRef)(null), L = function (e) { console.log("imagePassport1 in handleUploadPassport1", e), Z.Z.storage().ref("".concat(O, "/crm/cars/").concat(l.avto_Model, "/").concat(e.name)).put(e).on("state_changed", (function (e) { Math.round(e.bytesTransferred / e.totalBytes * 100) }), (function (e) { console.log(e) }), (function () { Z.Z.storage().ref("".concat(O, "/crm/cars/").concat(l.avto_Model, "/")).child(e.name).getDownloadURL().then((function (e) { !function (e) { n(C({}, l, { avto_image: e })) }(e) })) })) }, S = (0, a.useState)(!1), M = S[0], E = S[1], z = (0, a.useState)(!1), D = z[0], V = z[1], F = (0, a.useState)(!1), N = F[0], R = F[1]; return console.log("car", l), console.log("owners", y), (0, t.jsxs)(i.ZP, { container: !0, spacing: 3, children: [(0, t.jsxs)(i.ZP, { item: !0, md: 6, style: { marginTop: 20 }, children: [(0, t.jsxs)(r.Z, { children: [(0, t.jsx)(o.Z, { title: T("main_info_title") }), (0, t.jsx)(c.Z, {}), (0, t.jsx)(s.Z, { children: (0, t.jsxs)(i.ZP, { container: !0, spacing: 3, children: [(0, t.jsx)(i.ZP, { item: !0, xs: 6, md: 6, children: (0, t.jsx)(d.Z, { sx: { m: 0 }, limitTags: 1, options: W, value: null === l || void 0 === l ? void 0 : l.car_brand, getOptionLabel: function (e) { return e.name }, onChange: function (e, t) { n(C({}, l, { car_brand: null === t || void 0 === t ? void 0 : t.name, car_brand_image: null === t || void 0 === t ? void 0 : t.logo, car_brand_number: null === t || void 0 === t ? void 0 : t.number })) }, renderInput: function (e) { return (0, t.jsx)(u.Z, C({}, e, { fullWidth: !0, variant: "outlined", placeholder: T("car_brand") })) } }) }), (0, t.jsx)(i.ZP, { item: !0, xs: 6, md: 6, children: (0, t.jsx)(u.Z, { value: (null === l || void 0 === l ? void 0 : l.car_model) || "", onChange: function (e) { n(C({}, l, { car_model: e.target.value })) }, fullWidth: !0, label: T("car_model"), variant: "outlined" }) }), (0, t.jsx)(i.ZP, { item: !0, xs: 6, md: 6, children: (0, t.jsx)(u.Z, { select: !0, fullWidth: !0, label: T("car_\u0441ategory"), value: (null === l || void 0 === l ? void 0 : l.car_\u0441ategory) || "", onChange: function (e) { n(C({}, l, { "car_\u0441ategory": e.target.value })) }, variant: "outlined", children: null === b || void 0 === b ? void 0 : b.map((function (e) { return (0, t.jsx)(f.Z, { value: e.name, children: e.name }, e.name) })) }) }), (0, t.jsx)(i.ZP, { item: !0, xs: 6, md: 6, children: (0, t.jsx)(d.Z, { sx: { m: 0 }, limitTags: 1, options: w, defaultValue: w.find((function (e) { return e.tariff_name === l.car_tariff_name })), getOptionLabel: function (e) { return e.tariff_name }, onChange: function (e, t) { n(C({}, l, { car_tariff_name: null === t || void 0 === t ? void 0 : t.tariff_name, car_tariff_id: null === t || void 0 === t ? void 0 : t.id })) }, renderInput: function (e) { return (0, t.jsx)(u.Z, C({}, e, { fullWidth: !0, variant: "outlined", placeholder: T("car_tariff_name") })) } }) }), (0, t.jsx)(i.ZP, { item: !0, xs: 4, md: 4, children: (0, t.jsx)(u.Z, { value: (null === l || void 0 === l ? void 0 : l.car_license_plate) || "", onChange: function (e) { n(C({}, l, { car_license_plate: e.target.value })) }, fullWidth: !0, label: T("car_license_plate"), variant: "outlined" }) }), (0, t.jsx)(i.ZP, { item: !0, xs: 4, md: 4, children: (0, t.jsx)(u.Z, { value: (null === l || void 0 === l ? void 0 : l.car_year_issue) || "", onChange: function (e) { n(C({}, l, { car_year_issue: e.target.value })) }, fullWidth: !0, label: T("car_year_issue"), variant: "outlined" }) }), (0, t.jsx)(i.ZP, { item: !0, xs: 4, md: 4, children: (0, t.jsx)(d.Z, { sx: { m: 0 }, limitTags: 1, options: p, value: null === l || void 0 === l ? void 0 : l.car_color_label, getOptionLabel: function (e) { return e.label }, onChange: function (e, t) { n(C({}, l, { car_color_label: null === t || void 0 === t ? void 0 : t.label, car_color: null === t || void 0 === t ? void 0 : t.value, car_textColor: null === t || void 0 === t ? void 0 : t.textColor })) }, renderInput: function (e) { return (0, t.jsx)(u.Z, C({}, e, { fullWidth: !0, variant: "outlined", placeholder: T("car_color") })) } }) })] }) })] }), (0, t.jsxs)(r.Z, { style: { marginTop: 20 }, children: [(0, t.jsx)(o.Z, { title: T("additional_info") }), (0, t.jsx)(c.Z, {}), (0, t.jsx)(s.Z, { children: (0, t.jsxs)(i.ZP, { container: !0, spacing: 3, children: [(0, t.jsx)(i.ZP, { item: !0, xs: 12, md: 6, children: (0, t.jsx)(d.Z, { sx: { m: 0 }, limitTags: 1, options: y, defaultValue: y.find((function (e) { return e.owner_fullname === l.car_owner })), getOptionLabel: function (e) { return e.owner_fullname }, onChange: function (e, t) { n(C({}, l, { car_owner: null === t || void 0 === t ? void 0 : t.owner_fullname, car_owner_id: null === t || void 0 === t ? void 0 : t.id })) }, renderInput: function (e) { return (0, t.jsx)(u.Z, C({}, e, { fullWidth: !0, variant: "outlined", placeholder: T("car_owner") })) } }) }), (0, t.jsx)(i.ZP, { item: !0, xs: 12, md: 6, children: (0, t.jsx)(d.Z, { sx: { m: 0 }, limitTags: 1, options: k, value: null === l || void 0 === l ? void 0 : l.car_fleet_title, getOptionLabel: function (e) { return e.fleet_title }, onChange: function (e, t) { n(C({}, l, { car_fleet_title: null === t || void 0 === t ? void 0 : t.fleet_title, car_fleet_id: null === t || void 0 === t ? void 0 : t.id })) }, renderInput: function (e) { return (0, t.jsx)(u.Z, C({}, e, { fullWidth: !0, variant: "outlined", placeholder: T("car_fleet_title") })) } }) }), (0, t.jsxs)(i.ZP, { item: !0, xs: 6, md: 6, children: [(0, t.jsx)(x.Z, { pb: 1, children: (0, t.jsxs)("b", { children: [T("car_data_start_job"), ":"] }) }), (0, t.jsx)(g.M, { value: null === l || void 0 === l ? void 0 : l.car_data_start_job, onChange: function (e) { n(C({}, l, { car_data_start_job: e })) }, renderInput: function (e) { return (0, t.jsx)(u.Z, C({ fullWidth: !0, placeholder: T("select_date") }, e)) } })] }), (0, t.jsxs)(i.ZP, { item: !0, xs: 6, md: 6, children: [(0, t.jsx)(x.Z, { pb: 1, children: (0, t.jsxs)("b", { children: [T("car_data_end_job"), ":"] }) }), (0, t.jsx)(g.M, { value: null === l || void 0 === l ? void 0 : l.car_data_end_job, onChange: function (e) { n(C({}, l, { car_data_end_job: e })) }, renderInput: function (e) { return (0, t.jsx)(u.Z, C({ fullWidth: !0, placeholder: T("select_date") }, e)) } })] }), (0, t.jsx)(i.ZP, { item: !0, xs: 6, children: (0, t.jsx)(u.Z, { select: !0, fullWidth: !0, label: T("car_status"), value: (null === l || void 0 === l ? void 0 : l.car_status) || "", onChange: function (e) { n(C({}, l, { car_status: e.target.value })) }, variant: "outlined", children: null === P || void 0 === P ? void 0 : P.map((function (e) { return (0, t.jsx)(f.Z, { value: e.name, children: e.name }, e.name) })) }) }), (0, t.jsx)(i.ZP, { item: !0, xs: 6, children: (0, t.jsx)(u.Z, { value: (null === l || void 0 === l ? void 0 : l.car_code) || "", onChange: function (e) { n(C({}, l, { car_code: e.target.value })) }, fullWidth: !0, label: T("car_code"), variant: "outlined" }) }), (0, t.jsx)(i.ZP, { item: !0, xs: 6, md: 6, children: (0, t.jsx)(u.Z, { value: (null === l || void 0 === l ? void 0 : l.car_mileage) || "", onChange: function (e) { n(C({}, l, { car_mileage: e.target.value })) }, fullWidth: !0, label: T("car_mileage"), variant: "outlined" }) }), (0, t.jsxs)(i.ZP, { item: !0, xs: 5, md: 5, children: [(0, t.jsx)(x.Z, { pb: 1, children: (0, t.jsxs)("b", { children: [T("car_fuel_level"), ":"] }) }), (0, t.jsx)(v.ZP, { defaultValue: null === l || void 0 === l ? void 0 : l.car_fuel_level, valueLabelDisplay: "auto", min: 0, max: 100, marks: [{ value: 0, label: "0 %" }, { value: 50, label: "50 %" }, { value: 100, label: "100 %" }], onChange: function (e, t) { console.log("car_fuel_level", t), n(C({}, l, { car_fuel_level: t })) } })] })] }) })] })] }), (0, t.jsxs)(i.ZP, { item: !0, xs: 6, md: 6, style: { marginTop: 20 }, children: [(0, t.jsxs)(r.Z, { children: [(0, t.jsx)(o.Z, { title: T("car_image") }), (0, t.jsx)(c.Z, {}), (0, t.jsxs)(s.Z, { children: [(0, t.jsx)("div", { style: { width: "100%", height: "100%" }, onClick: function () { I.current.click() }, children: (0, t.jsx)("img", { alt: "", src: (null === l || void 0 === l ? void 0 : l.car_image) || "https://www.aluminati.net/wp-content/uploads/2016/03/img-placeholder.png", style: { width: "100%", height: "100%", minHeight: 150, objectFit: "cover" } }) }), (0, t.jsx)("input", { type: "file", onChange: function (e) { return L(e.target.files[0]) }, style: { width: .1, height: .1, opacity: 0, pointerEvents: "none" }, ref: I })] })] }), (0, t.jsxs)(r.Z, { style: { marginTop: 20 }, children: [(0, t.jsx)(o.Z, { title: T("car_gps_title") }), (0, t.jsx)(c.Z, {}), (0, t.jsx)(s.Z, { children: (0, t.jsxs)(i.ZP, { container: !0, spacing: 3, children: [(0, t.jsxs)(i.ZP, { item: !0, xs: 12, children: [(0, t.jsx)(i.ZP, { container: !0, spacing: 0, children: (0, t.jsx)(h.Z, { onClick: function () { E((function (e) { return !e })) }, variant: "outlined", size: "large", color: "primary", children: T("car_gps_avtofon") }) }), (0, t.jsx)(_.Z, { in: M, sx: { width: "100%" }, children: (0, t.jsxs)(r.Z, { children: [(0, t.jsx)(c.Z, {}), (0, t.jsx)(s.Z, { children: (0, t.jsx)(i.ZP, { item: !0, xs: 12, children: (0, t.jsxs)(i.ZP, { container: !0, spacing: 2, alignItems: "center", children: [(0, t.jsx)(i.ZP, { item: !0, xs: 6, children: (0, t.jsx)(u.Z, { value: (null === l || void 0 === l ? void 0 : l.mapid) || "", onChange: function (e) { n(C({}, l, { mapid: e.target.value })) }, fullWidth: !0, label: T("car_gps_avtofon_id"), variant: "outlined" }) }), (0, t.jsxs)(i.ZP, { item: !0, xs: 12, children: [(0, t.jsx)(i.ZP, { container: !0, spacing: 0, children: (0, t.jsx)(h.Z, { onClick: function () { R((function (e) { return !e })) }, variant: "outlined", size: "large", color: "primary", children: T("car_gps_avtofon_description_info") }) }), (0, t.jsxs)(_.Z, { in: N, sx: { width: "100%" }, style: { marginTop: 15 }, children: [(0, t.jsx)("div", { style: { width: "80%", height: "80%" }, children: (0, t.jsx)("img", { alt: "", src: "https://firebasestorage.googleapis.com/v0/b/carcrm-dd2cf.appspot.com/o/Screenshot_24.png?alt=media&token=443bac60-a390-40aa-9f87-c17d8c0c3859", style: { width: "80%", height: "80%", objectFit: "cover" } }) }), (0, t.jsx)(m.Z, { variant: "h6", children: T("car_gps_avtofon_description_info2") })] })] })] }) }) })] }) })] }), (0, t.jsxs)(i.ZP, { item: !0, xs: 12, children: [(0, t.jsx)(i.ZP, { container: !0, spacing: 0, children: (0, t.jsx)(h.Z, { onClick: function () { V((function (e) { return !e })) }, variant: "outlined", size: "large", color: "primary", children: T("car_gps_wialon") }) }), (0, t.jsx)(_.Z, { in: D, sx: { width: "100%" }, children: (0, t.jsxs)(r.Z, { children: [(0, t.jsx)(c.Z, {}), (0, t.jsx)(s.Z, { children: (0, t.jsx)(i.ZP, { item: !0, xs: 12, children: (0, t.jsxs)(i.ZP, { container: !0, spacing: 2, alignItems: "center", children: [(0, t.jsx)(i.ZP, { item: !0, xs: 6, children: (0, t.jsx)(u.Z, { value: (null === l || void 0 === l ? void 0 : l.mapid) || "", onChange: function (e) { n(C({}, l, { mapid: e.target.value })) }, fullWidth: !0, label: T("imei"), variant: "outlined" }) }), (0, t.jsx)(i.ZP, { item: !0, xs: 12 })] }) }) })] }) })] })] }) })] })] })] }) } } }]);